import{jsxs as j,jsx as r}from"react/jsx-runtime";import{a as k,ak as F,al as U,am as L,b5 as V,b6 as w,U as B}from"./main-DXDh8SEc.js";import{useState as m,useMemo as x,useEffect as E}from"react";const a=[{unit:"second",label:"times.seconds",multiplier:1},{unit:"minute",label:"times.minutes",multiplier:60},{unit:"hour",label:"times.hours",multiplier:3600},{unit:"day",label:"times.days",multiplier:86400}],I=(t,n=0)=>t.reduce((s,i)=>n%i.multiplier===0&&s.multiplier<i.multiplier?i:s,t[0]),q=(t,n)=>{const s=I(a,t);return new Intl.NumberFormat(n,{style:"unit",unit:s.unit,unitDisplay:"long"}).format(t/s.multiplier)},z=({value:t,units:n=["second","minute","hour","day"],onChange:s,className:i,min:D,menuAppendTo:O,...d})=>{const{t:f}=k(),[b,h]=m(),u=x(()=>a.find(e=>e.unit===n[0])?.multiplier,[n]),[T,p]=m(""),[o,c]=m(u),[y,S]=m(!1),g=x(()=>{const e=n.map(l=>a.find($=>$.unit===l));return!e.every(l=>l.multiplier===o)&&e[0]!==a[0]&&e.unshift(a[0]),e},[n,o]);E(()=>{const e=I(g,t).multiplier;t?(c(e),p(t/e),h(e)):(p(t||""),c(b??u),h(b??u))},[t,u]);const M=(e,l=o)=>{e!==""?(s?.(e*(l||1)),p(e)):s?.("")};return j(F,{hasGutter:!0,className:i,children:[r(U,{children:r(L,{...d,type:"number","aria-label":"kc-time",min:D||0,value:T,className:`${i}-input`,onChange:(e,l)=>{M(l===""?l:parseInt(l))}})}),r(U,{id:`${i}-select-menu`,children:r(V,{variant:w.single,"aria-label":f("unitLabel"),className:`${i}-select`,onSelect:e=>{c(e),M(T,e),S(!1)},menuAppendTo:O,selections:o,onToggle:()=>{S(!y)},isOpen:y,isDisabled:d.isDisabled,children:g.map(e=>r(B,{id:e.label,value:e.multiplier,children:f(e.label)},e.label))})})]})};export{z as T,q as t};
//# sourceMappingURL=TimeSelector-6vihdzIG.js.map
