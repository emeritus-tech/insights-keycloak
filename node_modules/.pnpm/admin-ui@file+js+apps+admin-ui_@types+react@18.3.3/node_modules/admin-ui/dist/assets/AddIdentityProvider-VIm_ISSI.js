import{jsxs as i,Fragment as I,jsx as t}from"react/jsx-runtime";import{useMemo as b}from"react";import{u as S,a as k,g as A,b as F,f as C,d as x,c as V,b2 as j,P as w,F as D,A as G,j as p,L as E,cw as H,l as L,cx as T}from"./main-DXDh8SEc.js";import{D as z}from"./DynamicComponents-oH6U-qv7.js";import{F as B}from"./FormAccess-Bcw0IOUQ.js";import{V as K}from"./ViewHeader-DTd0a4sz.js";import{u as M}from"./useParams-5577fL9S.js";import{G as N}from"./GeneralSettings-BqsKjbMT.js";import"react-dom";import"./ClientSelect-DzH7E0lJ.js";import"./FileUpload-CK_LBb0x.js";import"./CodeEditor-BFrRAdAy.js";import"./copy-icon-C4kUIpk5.js";import"./EmptyStateFooter-C_ktbNPy.js";import"./EmptyStateActions-CiPKPOdJ.js";import"./GroupPickerDialog-B6DOUphD.js";import"./PaginatingTableToolbar-zbU1l_6-.js";import"./DataListItemRow-CavOLjhh.js";import"./FlexItem-c5qvFYFZ.js";import"./KeySelect-BIWWws15.js";import"./useToggle-K3Kx99tM.js";import"./MultiLineInput-D3_8dp6S.js";import"./AddRoleMappingModal-BqIKRo9T.js";import"./KeycloakDataTable-B3eTS_qk.js";import"./Td-BmSS9qQq.js";import"./grip-vertical-icon-CgFEKIXW.js";import"./_baseFlatten-CMLUuI8z.js";import"./ConfirmDialog-o8TAA2Kj.js";import"./filter-icon-Do5tIUfA.js";import"./DisplayOrder-BglivDc3.js";import"./ClientIdSecret-CkL_Gb68.js";function hr(){const{adminClient:l}=S(),{t:e}=k(),{providerId:r}=M(),s=A({mode:"onChange"}),n=F(),m=b(()=>{const o=["org.keycloak.broker.social.SocialIdentityProvider","org.keycloak.broker.provider.IdentityProvider"];for(const a of o){const c=n.componentTypes?.[a]?.find(({id:h})=>h===r);if(c)return c}},[n,r]),{handleSubmit:u,formState:{isValid:v}}=s,{addAlert:f,addError:y}=C(),g=x(),{realm:d}=V(),P=async o=>{try{await l.identityProviders.create({...o,providerId:r,alias:r}),f(e("createIdentityProviderSuccess"),L.success),g(T({realm:d,providerId:r,alias:r,tab:"settings"}))}catch(a){y("createError",a)}};return i(I,{children:[t(K,{titleKey:e("addIdentityProvider",{provider:j(r)})}),t(w,{variant:"light",children:i(B,{role:"manage-identity-providers",isHorizontal:!0,onSubmit:u(P),children:[i(D,{...s,children:[t(N,{id:r}),m&&t(z,{stringify:!0,properties:m.properties})]}),i(G,{children:[t(p,{isDisabled:!v,variant:"primary",type:"submit","data-testid":"createProvider",children:e("add")}),t(p,{variant:"link","data-testid":"cancel",component:o=>t(E,{...o,to:H({realm:d})}),children:e("cancel")})]})]})})]})}export{hr as default};
//# sourceMappingURL=AddIdentityProvider-VIm_ISSI.js.map
