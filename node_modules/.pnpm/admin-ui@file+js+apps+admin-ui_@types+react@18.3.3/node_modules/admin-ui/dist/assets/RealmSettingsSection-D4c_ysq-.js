import{jsx as e,jsxs as c,Fragment as X}from"react/jsx-runtime";import{_ as Oa,dL as Va,n as Ka,cI as Ma,dM as Fa,dN as Ha,dm as Ua,dA as oa,dB as Ga,cK as Ba,dO as _a,dD as za,dP as $a,ci as ja,u as se,dt as it,w as Ue,a as U,f as Ce,g as ye,ab as He,P as ce,F as Ge,bt as ke,y as be,dQ as kt,ac as D,ae as H,bS as xt,ai as ca,bq as qa,ay as ht,dR as Wa,L as Pe,bx as Ja,A as Le,j as R,l as ne,c as ie,a3 as We,bH as da,aH as Mt,aI as Ft,aq as Xa,aJ as It,h as nt,ad as K,aX as ma,aY as Fe,a8 as qt,Q as Ve,a4 as ge,M as je,r as Xe,B as le,aa as st,Z as Re,s as rt,aW as Ya,a_ as lt,ar as Be,b5 as ve,U as te,q as pt,d as Ye,T as ua,R as ft,dS as Wt,a2 as Ae,dT as Qa,dU as Dt,dV as Za,dW as en,b as _e,b6 as Ie,b0 as tn,ao as Jt,am as yt,dy as an,b_ as nn,b$ as ln,$ as Ht,dX as ot,at as sn,b3 as Ut,a9 as rn,dY as Xt,J as pa,K as ha,aB as fa,N as ba,D as tt,aC as ct,dJ as Rt,dK as Gt,a0 as ga,ba as on,bb as cn,bc as Yt,bd as va,dZ as dn,v as mn,d_ as we,x as un,ag as Qe,ah as Je,d$ as Ne,e0 as Lt,e1 as pn,c3 as hn,bD as Qt,af as Pt,e2 as Zt,e3 as fn,a1 as bn,cp as gn,e4 as vn,e5 as ea,e6 as ta,e7 as ya,c8 as At,I as aa,c6 as yn,au as Tn,S as Cn,a6 as Sn,bE as kn,a7 as In}from"./main-DXDh8SEc.js";import Ln,{useState as p,useEffect as Ee,useMemo as at}from"react";import{u as Te}from"./ConfirmDialog-o8TAA2Kj.js";import{R as bt,u as gt}from"./RoutableTabs-CmXecBCx.js";import{F as Nt,V as Pn}from"./ViewHeader-DTd0a4sz.js";import{u as Bt}from"./useLocale-DROFIzrk.js";import{F as ae,b as An}from"./FormAccess-Bcw0IOUQ.js";import{u as qe}from"./useToggle-K3Kx99tM.js";/* empty css                               */import{a as Et}from"./KeySelect-BIWWws15.js";import{U as Ze}from"./userProfileMetadata-CFgHgJ2w.js";import{D as Ot}from"./SwitchControl-BOCtuOhh.js";import{K as En}from"./KeyValueInput-CUdRH2bO.js";import{J as wn}from"./JsonFileUpload-CBV06Hml.js";import{l as xn,K as ze}from"./KeycloakDataTable-B3eTS_qk.js";import{d as Ta,D as Ca,a as Sa,b as ka,c as Vt}from"./DataListItemRow-CavOLjhh.js";import{L as xe,P as Dn}from"./PaginatingTableToolbar-zbU1l_6-.js";import{b as Rn}from"./_baseSlice-F8doVSIJ.js";import{a as Nn,s as On,o as Vn}from"./_baseFlatten-CMLUuI8z.js";import{F as _t,a as Oe}from"./FlexItem-c5qvFYFZ.js";import{C as zt,L as $t}from"./CodeEditor-BFrRAdAy.js";import{T as Q,t as Kn}from"./TimeSelector-6vihdzIG.js";import{R as Mn}from"./AddRoleMappingModal-BqIKRo9T.js";import{G as Fn}from"./GroupPickerDialog-B6DOUphD.js";import{T as vt}from"./Trans-B-8W6Bse.js";import{Q as Hn}from"./question-circle-icon-BMWef0U6.js";import{T as Tt,a as $,b as j}from"./Tabs-DuqZmBlh.js";import{T as Ia}from"./TimeSelectorControl-BHmbzAlP.js";import{i as La}from"./isEqual-DfpijAgC.js";import{u as Un}from"./useFormatDate-HcqQUSxN.js";import{T as $e,U as Gn,V as Bn,W as na,X as dt,Y as _n,Z as mt,a2 as zn}from"./Td-BmSS9qQq.js";import{F as Pa}from"./filter-icon-Do5tIUfA.js";import{D as Aa}from"./DraggableTable-BWWIYDpD.js";import{KeyProviderForm as $n}from"./KeyProviderForm-pYX6GTEY.js";import{D as jn}from"./DropdownPanel-DheSoolq.js";import{p as qn}from"./pickBy-DDjFCwg7.js";import{P as Wn}from"./pencil-alt-icon-CrX0AGRq.js";import{u as jt,U as Jn}from"./UserProfileContext-CHRVofPr.js";import"react-dom";import"./PageHandler-BSpHpuNc.js";import"./DynamicComponents-oH6U-qv7.js";import"./ClientSelect-DzH7E0lJ.js";import"./FileUpload-CK_LBb0x.js";import"./EmptyStateFooter-C_ktbNPy.js";import"./MultiLineInput-D3_8dp6S.js";import"./useParams-5577fL9S.js";import"./PageList-BqPOEpg8.js";import"./EmptyStateActions-CiPKPOdJ.js";import"./grip-vertical-icon-CgFEKIXW.js";import"./copy-icon-C4kUIpk5.js";import"./FileUploadForm-DD1wLZX_.js";const Kt=l=>{var{children:n,className:a,label:t}=l,i=Oa(l,["children","className","label"]);return Ln.createElement(Va,Object.assign({className:Ka(a),label:t},i),n)};Kt.displayName="SelectGroup";function Xn(l){var n=l==null?0:l.length;return n?Nn(l):[]}function Yn(l){return On(Vn(l,void 0,Xn),l+"")}var Qn="[object Object]",Zn=Function.prototype,el=Object.prototype,Ea=Zn.toString,tl=el.hasOwnProperty,al=Ea.call(Object);function nl(l){if(!Ma(l)||Fa(l)!=Qn)return!1;var n=Ha(l);if(n===null)return!0;var a=tl.call(n,"constructor")&&n.constructor;return typeof a=="function"&&a instanceof a&&Ea.call(a)==al}function ll(l,n){return n.length<2?l:Ua(l,Rn(n,0,-1))}function il(l,n){return n=oa(n,l),l=ll(l,n),l==null||delete l[Ga(xn(n))]}function sl(l){return nl(l)?void 0:l}var rl=1,ol=2,cl=4,wa=Yn(function(l,n){var a={};if(l==null)return a;var t=!1;n=Ba(n,function(s){return s=oa(s,l),t||(t=s.length>1),s}),_a(l,za(l),a),t&&(a=$a(a,rl|ol|cl,sl));for(var i=n.length;i--;)il(a,n[i]);return a});function dl(l,n){return n=typeof n=="function"?n:void 0,l&&l.length?ja(l,void 0,n):[]}function ml(){const{adminClient:l}=se(),{whoAmI:n}=it(),[a,t]=p(),i=n.getUserId();return Ue(()=>l.users.findOne({id:i}),t,[i]),{...a,realm:n.getRealm()}}const ul=({realm:l,save:n})=>{const{adminClient:a}=se(),{t}=U(),{addAlert:i,addError:s}=Ce(),m=ml(),d=ye({defaultValues:l}),{control:h,handleSubmit:o,watch:u,reset:E,getValues:k}=d,O=()=>E(l),y=u("smtpServer.from",""),b=u("smtpServer.host",""),[r,f]=qe(),v=He({control:h,name:"smtpServer.auth",defaultValue:""}),x=async()=>{const T=L=>Number(L),N=L=>L==="true",I=new Map([["port",T],["ssl",N],["starttls",N],["auth",N]]),w={...k().smtpServer};for(const[L,B]of I.entries())w[L]=B(w[L]);w.port===0&&(w.port=null);try{f(),await a.realms.testSMTPConnection({realm:l.realm},w),i(t("testConnectionSuccess"),ne.success)}catch(L){s("testConnectionError",L)}f()};return e(ce,{variant:"light",children:c(Ge,{...d,children:[e(ke,{title:t("template"),className:"kc-email-template",children:c(ae,{isHorizontal:!0,role:"manage-realm",className:"pf-v5-u-mt-lg",onSubmit:o(n),children:[e(be,{name:"smtpServer.from",label:t("from"),type:"email",placeholder:t("smtpFromPlaceholder"),rules:{pattern:{value:kt,message:t("emailInvalid")},required:t("required")}}),e(be,{name:"smtpServer.fromDisplayName",label:t("fromDisplayName"),labelIcon:t("fromDisplayNameHelp"),placeholder:t("smtpFromDisplayPlaceholder")}),e(be,{name:"smtpServer.replyTo",label:t("replyTo"),type:"email",placeholder:t("replyToEmailPlaceholder"),rules:{pattern:{value:kt,message:t("emailInvalid")}}}),e(be,{name:"smtpServer.replyToDisplayName",label:t("replyToDisplayName"),labelIcon:t("replyToDisplayNameHelp"),placeholder:t("replyToDisplayPlaceholder")}),e(be,{name:"smtpServer.envelopeFrom",label:t("envelopeFrom"),labelIcon:t("envelopeFromHelp"),placeholder:t("senderEnvelopePlaceholder")})]})}),e(ke,{className:"kc-email-connection",title:t("connectionAndAuthentication"),children:c(ae,{isHorizontal:!0,role:"manage-realm",className:"pf-v5-u-mt-lg",onSubmit:o(n),children:[e(be,{name:"smtpServer.host",label:t("host"),rules:{required:t("required")}}),e(be,{name:"smtpServer.port",label:t("port"),placeholder:t("smtpPortPlaceholder")}),c(D,{label:t("encryption"),fieldId:"kc-html-display-name",children:[e(H,{name:"smtpServer.ssl",control:h,defaultValue:"false",render:({field:T})=>e(xt,{id:"kc-enable-ssl","data-testid":"enable-ssl",label:t("enableSSL"),isChecked:T.value==="true",onChange:(N,I)=>T.onChange(""+I)})}),e(H,{name:"smtpServer.starttls",control:h,defaultValue:"false",render:({field:T})=>e(xt,{id:"kc-enable-start-tls","data-testid":"enable-start-tls",label:t("enableStartTLS"),isChecked:T.value==="true",onChange:(N,I)=>T.onChange(""+I)})})]}),e(ca,{name:"smtpServer.auth",label:t("authentication"),defaultValue:"",labelOn:t("enabled"),labelOff:t("disabled"),stringify:!0}),v==="true"&&c(X,{children:[e(be,{name:"smtpServer.user",label:t("username"),placeholder:t("loginUsernamePlaceholder"),rules:{required:t("required")}}),e(qa,{name:"smtpServer.password",label:t("password"),labelIcon:t("passwordHelp"),rules:{required:t("required")}})]}),m&&e(D,{id:"descriptionTestConnection",children:m.email?e(ht,{variant:"info",component:"h2",isInline:!0,title:t("testConnectionHint.withEmail",{email:m.email})}):e(ht,{variant:"warning",component:"h2",isInline:!0,title:t("testConnectionHint.withoutEmail",{userName:m.username}),actionLinks:e(Wa,{component:T=>e(Pe,{...T,to:Ja({realm:m.realm,id:m.id,tab:"settings"})}),children:t("testConnectionHint.withoutEmailAction")})})}),c(Le,{children:[e(Et,{children:e(R,{variant:"primary",type:"submit","data-testid":"email-tab-save",children:t("save")})}),e(Et,{children:e(R,{variant:"secondary",onClick:()=>x(),"data-testid":"test-connection-button",isDisabled:!(kt.test(y)&&b)||!m?.email,"aria-describedby":"descriptionTestConnection",isLoading:r,spinnerAriaValueText:t("testingConnection"),children:t("testConnection")})}),e(Et,{children:e(R,{variant:"link",onClick:O,"data-testid":"email-tab-revert",children:t("revert")})})]})]})})]})})},pl=({realm:l,save:n})=>{const{adminClient:a}=se(),{realm:t}=ie(),[i,s]=p();return Ue(()=>a.users.getProfile({realm:t}),m=>s(m),[]),i?e(fl,{realm:l,save:n,userProfileConfig:i}):e(We,{})},hl=["all","external","none"],wt=[Ze.Disabled,Ze.Enabled,Ze.AdminView,Ze.AdminEdit];function fl({realm:l,save:n,userProfileConfig:a}){const{environment:{serverBaseUrl:t}}=da(),{t:i}=U(),{realm:s}=ie(),m=ye(),{control:d,handleSubmit:h,setValue:o,formState:{isDirty:u,errors:E}}=m,O=Mt()(Ft.Organizations),y=()=>{if(Ve(l,o),o("unmanagedAttributePolicy",a.unmanagedAttributePolicy||wt[0]),l.attributes?.["acr.loa.map"]){const r=Object.entries(JSON.parse(l.attributes["acr.loa.map"])).flatMap(([f,v])=>({key:f,value:v}));r.concat({key:"",value:""}),o(It("attributes.acr.loa.map"),r)}};Ee(y,[]);const b=h(async({unmanagedAttributePolicy:r,...f})=>{const v={...a};r===Ze.Disabled?delete v.unmanagedAttributePolicy:v.unmanagedAttributePolicy=r,await n({...f,upConfig:v})});return e(ce,{variant:"light",children:e(Ge,{...m,children:c(ae,{isHorizontal:!0,role:"manage-realm",className:"pf-u-mt-lg",onSubmit:b,children:[c(D,{label:i("realmId"),fieldId:"kc-realm-id",isRequired:!0,children:[e(H,{name:"realm",control:d,rules:{required:{value:!0,message:i("required")}},defaultValue:"",render:({field:r})=>e(An,{"data-testid":"realmName",onChange:r.onChange,children:r.value})}),E.realm&&e(Xa,{"data-testid":"realm-id-error",message:E.realm.message})]}),e(be,{name:"displayName",label:i("displayName")}),e(be,{name:"displayNameHtml",label:i("htmlDisplayName")}),e(be,{name:It("attributes.frontendUrl"),type:"url",label:i("frontendUrl"),labelIcon:i("frontendUrlHelp")}),e(nt,{name:"sslRequired",label:i("requireSsl"),labelIcon:i("requireSslHelp"),controller:{defaultValue:"none"},options:hl.map(r=>({key:r,value:i(`sslType.${r}`)}))}),e(D,{label:i("acrToLoAMapping"),fieldId:"acrToLoAMapping",labelIcon:e(K,{helpText:i("acrToLoAMappingHelp"),fieldLabelId:"acrToLoAMapping"}),children:e(En,{label:i("acrToLoAMapping"),name:It("attributes.acr.loa.map")})}),e(Ot,{name:"userManagedAccessAllowed",label:i("userManagedAccess"),labelIcon:i("userManagedAccessHelp")}),O&&e(Ot,{name:"organizationsEnabled",label:i("organizationsEnabled"),labelIcon:i("organizationsEnabledHelp")}),e(nt,{name:"unmanagedAttributePolicy",label:i("unmanagedAttributes"),labelIcon:i("unmanagedAttributesHelpText"),controller:{defaultValue:wt[0]},options:wt.map(r=>({key:r,value:i(`unmanagedAttributePolicy.${r}`)}))}),e(D,{label:i("endpoints"),labelIcon:e(K,{helpText:i("endpointsHelp"),fieldLabelId:"endpoints"}),fieldId:"kc-endpoints",children:c(ma,{children:[e(Fe,{children:e(Nt,{href:`${qt(t)}realms/${s}/.well-known/openid-configuration`,title:i("openIDEndpointConfiguration")})}),e(Fe,{children:e(Nt,{href:`${qt(t)}realms/${s}/protocol/saml/descriptor`,title:i("samlIdentityProviderMetadata")})})]})}),c(Le,{children:[e(R,{variant:"primary",type:"submit","data-testid":"general-tab-save",isDisabled:!u,children:i("save")}),e(R,{"data-testid":"general-tab-revert",variant:"link",onClick:y,children:i("revert")})]})]})})})}const bl=({realm:l,refresh:n})=>{const{adminClient:a}=se(),{t}=U(),{addAlert:i,addError:s}=Ce(),{realm:m}=ie(),d=async h=>{const o=Array.isArray(h)?Object.keys(h[0])[0]:Object.keys(h)[0];try{await a.realms.update({realm:m},Array.isArray(h)?h.reduce((u,E)=>Object.assign(u,E),l):Object.assign(l,h)),i(t("enableSwitchSuccess",{switch:t(o)})),n()}catch(u){s(t("enableSwitchError"),u)}};return c(ce,{variant:"light",children:[e(ke,{className:"kc-login-screen",title:t("loginScreenCustomization"),children:c(ae,{isHorizontal:!0,role:"manage-realm",children:[e(D,{label:t("registrationAllowed"),fieldId:"kc-user-reg",labelIcon:e(K,{helpText:t("userRegistrationHelpText"),fieldLabelId:"registrationAllowed"}),hasNoPaddingTop:!0,children:e(ge,{id:"kc-user-reg-switch","data-testid":"user-reg-switch",value:l.registrationAllowed?"on":"off",label:t("on"),labelOff:t("off"),isChecked:l.registrationAllowed,onChange:(h,o)=>{d({registrationAllowed:o})},"aria-label":t("registrationAllowed")})}),e(D,{label:t("resetPasswordAllowed"),fieldId:"kc-forgot-pw",labelIcon:e(K,{helpText:t("forgotPasswordHelpText"),fieldLabelId:"resetPasswordAllowed"}),hasNoPaddingTop:!0,children:e(ge,{id:"kc-forgot-pw-switch","data-testid":"forgot-pw-switch",name:"resetPasswordAllowed",value:l.resetPasswordAllowed?"on":"off",label:t("on"),labelOff:t("off"),isChecked:l.resetPasswordAllowed,onChange:(h,o)=>{d({resetPasswordAllowed:o})},"aria-label":t("resetPasswordAllowed")})}),e(D,{label:t("rememberMe"),fieldId:"kc-remember-me",labelIcon:e(K,{helpText:t("rememberMeHelpText"),fieldLabelId:"rememberMe"}),hasNoPaddingTop:!0,children:e(ge,{id:"kc-remember-me-switch","data-testid":"remember-me-switch",value:l.rememberMe?"on":"off",label:t("on"),labelOff:t("off"),isChecked:l.rememberMe,onChange:(h,o)=>{d({rememberMe:o})},"aria-label":t("rememberMe")})})]})}),e(ke,{className:"kc-email-settings",title:t("emailSettings"),children:c(ae,{isHorizontal:!0,role:"manage-realm",children:[e(D,{label:t("registrationEmailAsUsername"),fieldId:"kc-email-as-username",labelIcon:e(K,{helpText:t("emailAsUsernameHelpText"),fieldLabelId:"registrationEmailAsUsername"}),hasNoPaddingTop:!0,children:e(ge,{id:"kc-email-as-username-switch","data-testid":"email-as-username-switch",value:l.registrationEmailAsUsername?"on":"off",label:t("on"),labelOff:t("off"),isChecked:l.registrationEmailAsUsername,onChange:(h,o)=>{d([{registrationEmailAsUsername:o},{duplicateEmailsAllowed:!1}])},"aria-label":t("registrationEmailAsUsername")})}),e(D,{label:t("loginWithEmailAllowed"),fieldId:"kc-login-with-email",labelIcon:e(K,{helpText:t("loginWithEmailHelpText"),fieldLabelId:"loginWithEmailAllowed"}),hasNoPaddingTop:!0,children:e(ge,{id:"kc-login-with-email-switch","data-testid":"login-with-email-switch",value:l.loginWithEmailAllowed?"on":"off",label:t("on"),labelOff:t("off"),isChecked:l.loginWithEmailAllowed,onChange:(h,o)=>{d([{loginWithEmailAllowed:o},{duplicateEmailsAllowed:!1}])},"aria-label":t("loginWithEmailAllowed")})}),e(D,{label:t("duplicateEmailsAllowed"),fieldId:"kc-duplicate-emails",labelIcon:e(K,{helpText:t("duplicateEmailsHelpText"),fieldLabelId:"duplicateEmailsAllowed"}),hasNoPaddingTop:!0,children:e(ge,{id:"kc-duplicate-emails-switch","data-testid":"duplicate-emails-switch",label:t("on"),labelOff:t("off"),isChecked:l.duplicateEmailsAllowed,onChange:(h,o)=>{d({duplicateEmailsAllowed:o})},isDisabled:l.loginWithEmailAllowed||l.registrationEmailAsUsername,"aria-label":t("duplicateEmailsAllowed")})}),e(D,{label:t("verifyEmail"),fieldId:"kc-verify-email",labelIcon:e(K,{helpText:t("verifyEmailHelpText"),fieldLabelId:"verifyEmail"}),hasNoPaddingTop:!0,children:e(ge,{id:"kc-verify-email-switch","data-testid":"verify-email-switch",name:"verifyEmail",value:l.verifyEmail?"on":"off",label:t("on"),labelOff:t("off"),isChecked:l.verifyEmail,onChange:(h,o)=>{d({verifyEmail:o})},"aria-label":t("verifyEmail")})})]})}),e(ke,{className:"kc-user-info-settings",title:t("userInfoSettings"),children:e(ae,{isHorizontal:!0,role:"manage-realm",children:e(D,{label:t("editUsernameAllowed"),fieldId:"kc-edit-username",labelIcon:e(K,{helpText:t("editUsernameHelp"),fieldLabelId:"editUsernameAllowed"}),hasNoPaddingTop:!0,children:e(ge,{id:"kc-edit-username-switch","data-testid":"edit-username-switch",value:l.editUsernameAllowed?"on":"off",label:t("on"),labelOff:t("off"),isChecked:l.editUsernameAllowed,onChange:(h,o)=>{d({editUsernameAllowed:o})},"aria-label":t("editUsernameAllowed")})})})})]})},gl=({isOpen:l,onClose:n})=>{const{adminClient:a}=se(),{t}=U(),{realm:i}=ie(),{addAlert:s,addError:m}=Ce(),[d,h]=p(!1),[o,u]=p(!1),[E,k]=p(!1),O=d||o;async function y(){k(!0);try{const b=await a.realms.export({realm:i,exportClients:o,exportGroupsAndRoles:d});Ya.saveAs(new Blob([lt(b)],{type:"application/json"}),"realm-export.json"),s(t("exportSuccess"),ne.success),n()}catch(b){m("exportFail",b)}k(!1)}return c(je,{variant:Xe.small,title:t("partialExport"),isOpen:l,onClose:n,actions:[e(R,{"data-testid":"export-button",isDisabled:E,onClick:y,children:t("export")},"export"),e(R,{"data-testid":"cancel-button",variant:le.link,onClick:n,children:t("cancel")},"cancel")],children:[e(st,{children:e(Re,{children:t("partialExportHeaderText")})}),c(rt,{isHorizontal:!0,className:"keycloak__realm-settings__partial-import_form",children:[e(D,{label:t("includeGroupsAndRoles"),fieldId:"include-groups-and-roles-check",hasNoPaddingTop:!0,children:e(ge,{id:"include-groups-and-roles-check","data-testid":"include-groups-and-roles-check",isChecked:d,onChange:(b,r)=>h(r),label:t("on"),labelOff:t("off"),"aria-label":t("includeGroupsAndRoles")})}),e(D,{label:t("includeClients"),fieldId:"include-clients-check",hasNoPaddingTop:!0,children:e(ge,{id:"include-clients-check","data-testid":"include-clients-check",onChange:(b,r)=>u(r),isChecked:o,label:t("on"),labelOff:t("off"),"aria-label":t("includeClients")})})]}),O&&e(ht,{"data-testid":"warning-message",variant:"warning",component:"p",title:t("exportWarningTitle"),isInline:!0,children:t("exportWarningDescription")})]})},la={users:!1,clients:!1,groups:!1,identityProviders:!1,realmRoles:!1,clientRoles:!1},vl=l=>{const{adminClient:n}=se(),{t:a}=U(),{realm:t}=ie(),[i,s]=p(),m=!!i,[d,h]=p(!1),[o,u]=p(!1),[E,k]=p(!1),[O,y]=p("FAIL"),[b,r]=p({}),[f,v]=p(),{addError:x}=Ce(),[T,N]=p(la),I=Object.values(T).some(C=>C),w=()=>{N(la)},L=()=>{s(void 0),r({}),y("FAIL"),w()};Ee(()=>{k(!1),v(void 0),L()},[l.open]);const B=C=>{L(),s(C),Array.isArray(C)?C.length>0&&r(C[0]):r(C)},g=C=>{r(C),h(!1),w()},P=(C,ee)=>{const De=ee.currentTarget.name;N({...T,[De]:C})},V=C=>C.map(ee=>e(te,{value:ee,"data-testid":ee.id+"-select-option",children:ee.realm||ee.id},ee.id)),z=C=>{y(C),u(!1)},J=()=>[e(te,{value:"FAIL",children:a("FAIL")},"fail"),e(te,{value:"SKIP",children:a("SKIP")},"skip"),e(te,{value:"OVERWRITE",children:a("OVERWRITE")},"overwrite")],G=()=>q("users")||q("groups")||q("clients")||q("identityProviders")||re()||oe(),q=C=>{const ee=b[C];return ee!==void 0&&ee.length>0},re=()=>{const C=b.roles?.realm;return C!==void 0&&C.length>0},oe=()=>{const C=b.roles?.client;return C!==void 0&&Object.keys(C).length>0},fe=C=>m?C==="realmRoles"?b.roles?.realm?.length??0:C==="clientRoles"?oe()?pe(b.roles.client):0:b[C]?.length??0:0,pe=C=>Object.values(C).reduce((ee,De)=>ee+De.length,0),me=(C,ee)=>e(Ca,{"aria-labelledby":`${C}-list-item`,children:e(Sa,{children:e(ka,{dataListCells:[e(Vt,{children:e(xt,{id:`${C}-checkbox`,label:`${fe(C)} ${ee}`,"aria-labelledby":`${C}-checkbox`,name:C,isChecked:T[C],onChange:(De,Ct)=>P(Ct,De),"data-testid":C+"-checkbox"})},C)]})})}),Se=()=>{const C={ifResourceExists:O,id:b.id,realm:b.realm};return T.users&&(C.users=b.users),T.groups&&(C.groups=b.groups),T.identityProviders&&(C.identityProviders=b.identityProviders),T.clients&&(C.clients=b.clients),(T.realmRoles||T.clientRoles)&&(C.roles=b.roles,T.realmRoles||delete C.roles?.realm,T.clientRoles||delete C.roles?.client),C};async function S(){if(!E){k(!0);try{const C=await n.realms.partialImport({realm:t,rep:Se()});v(C)}catch(C){x("importFail",C)}k(!1)}}const A=()=>e(je,{variant:Xe.medium,title:a("partialImport"),isOpen:l.open,onClose:l.toggleDialog,actions:[e(R,{id:"modal-import","data-testid":"import-button",isDisabled:!I,onClick:()=>{S()},children:a("import")},"import"),e(R,{id:"modal-cancel","data-testid":"cancel-button",variant:le.link,onClick:()=>{l.toggleDialog()},children:a("cancel")},"cancel")],children:c(ma,{hasGutter:!0,children:[e(Fe,{children:e(st,{children:e(Re,{children:a("partialImportHeaderText")})})}),e(Fe,{children:e(wn,{id:"partial-import-file",allowEditingUploadedText:!0,onChange:B})}),m&&G()&&c(X,{children:[e(Fe,{children:e(Be,{})}),Array.isArray(i)&&i.length>1&&c(Fe,{children:[c(Re,{children:[a("selectRealm"),":"]}),e(ve,{toggleId:"realm-selector",isOpen:d,typeAheadAriaLabel:a("realmSelector"),"aria-label":"realmSelector",onToggle:()=>h(!d),onSelect:C=>g(C),placeholderText:b.realm||b.id,children:V(i)})]}),c(Fe,{children:[c(Re,{children:[a("chooseResources"),":"]}),c(Ta,{"aria-label":a("resourcesToImport"),isCompact:!0,children:[q("users")&&me("users",a("users")),q("groups")&&me("groups",a("groups")),q("clients")&&me("clients",a("clients")),q("identityProviders")&&me("identityProviders",a("identityProviders")),re()&&me("realmRoles",a("realmRoles")),oe()&&me("clientRoles",a("clientRoles"))]})]}),c(Fe,{children:[c(Re,{children:[a("selectIfResourceExists"),":"]}),e(ve,{isOpen:o,direction:"up",onToggle:()=>{u(!o)},onSelect:z,placeholderText:a(O),children:J()})]})]})]})}),Z=()=>`${a("importAdded",{count:f?.added})}  ${a("importSkipped",{count:f?.skipped})} ${a("importOverwritten",{count:f?.overwritten})}`,M=async(C=0,ee=15)=>{if(!f)return[];const De=Math.min(C+ee,f.results.length);return f.results.slice(C,De)},ue=C=>{switch(C.action){case"ADDED":return e(pt,{color:"green",children:a("added")},C.id);case"SKIPPED":return e(pt,{color:"orange",children:a("skipped")},C.id);case"OVERWRITTEN":return e(pt,{color:"purple",children:a("overwritten")},C.id);default:return""}},W=C=>{const ee=new Map([["CLIENT",a("clients")],["REALM_ROLE",a("realmRoles")],["USER",a("users")],["CLIENT_ROLE",a("clientRoles")],["IDP",a("identityProviders")],["GROUP",a("groups")]]);return e("span",{children:ee.get(C.resourceType)})},he=()=>c(je,{variant:Xe.medium,title:a("partialImport"),isOpen:l.open,onClose:l.toggleDialog,actions:[e(R,{id:"modal-close","data-testid":"close-button",variant:le.primary,onClick:()=>{l.toggleDialog()},children:a("close")},"close")],children:[e(ht,{variant:"success",component:"p",isInline:!0,title:Z()}),e(ze,{loader:M,isPaginated:!0,ariaLabelKey:"partialImport",columns:[{name:"action",displayKey:"action",cellRenderer:ue},{name:"resourceType",displayKey:"type",cellRenderer:W},{name:"resourceName",displayKey:"name"},{name:"id",displayKey:"id"}]})]});return f?he():A()},yl=()=>{const{adminClient:l}=se(),{t:n}=U(),{addAlert:a,addError:t}=Ce(),{realm:i}=ie(),s=Ye(),[m,d]=p(!1),[h,o]=p(),[u,E]=p(),[k,O]=p(0),[y,b]=p(),[r,f]=p(),v=()=>O(k+1),x=ye({mode:"onChange"});Ue(()=>l.clientPolicies.listPolicies({includeGlobalPolicies:!0}),g=>{const P=g.globalPolicies?.map(J=>({...J,global:!0})),V=g.policies?.map(J=>({...J,global:!1})),z=P?.concat(V??[]);o(z),f(z||[]),b(lt(z))},[k]);const T=async()=>h??[],N=async()=>{const g=x.getValues(),P=h?.filter(V=>!V.global).map(V=>{const z=g[V.name],J={...V,enabled:z};return delete J.global,J});try{await l.clientPolicies.updatePolicy({policies:P}),s(Dt({realm:i,tab:"policies"})),a(n("updateClientPolicySuccess"),ne.success)}catch(V){t("updateClientPolicyError",V)}},I=g=>wa(g,"global"),w=async()=>{if(y)try{const g=JSON.parse(y),P=g.filter(z=>!z.global).map(z=>I(z)),V=g.filter(z=>z.global).map(z=>I(z));try{await l.clientPolicies.updatePolicy({policies:P,globalPolicies:V}),a(n("updateClientPoliciesSuccess"),ne.success),v()}catch(z){t("updateClientPoliciesError",z)}}catch(g){console.warn("Invalid json, ignoring value using {}"),t("invalidJsonClientPoliciesError",g)}},[L,B]=Te({titleKey:n("deleteClientPolicyConfirmTitle"),messageKey:n("deleteClientPolicyConfirm",{policyName:u?.name}),continueButtonLabel:n("delete"),continueButtonVariant:le.danger,onConfirm:async()=>{const g=h?.filter(P=>!P.global&&P.name!==u?.name).map(P=>{const V={...P};return delete V.global,V});try{await l.clientPolicies.updatePolicy({policies:g}),a(n("deleteClientPolicySuccess"),ne.success),v()}catch(P){t(n("deleteClientPolicyError"),P)}}});return h?c(X,{children:[e(B,{}),e(ce,{children:c(_t,{className:"kc-policies-config-section",children:[e(Oe,{children:e(ua,{headingLevel:"h1",size:"md",children:n("policiesConfigType")})}),e(Oe,{children:e(ft,{isChecked:!m,name:"policiesView",onChange:()=>d(!1),label:n("policiesConfigTypes.formView"),id:"formView-policiesView","data-testid":"formView-policiesView",className:"kc-form-radio-btn pf-v5-u-mr-sm pf-v5-u-ml-sm"})}),e(Oe,{children:e(ft,{isChecked:m,name:"policiesView",onChange:()=>d(!0),label:n("policiesConfigTypes.jsonEditor"),id:"jsonEditor-policiesView","data-testid":"jsonEditor-policiesView",className:"kc-editor-radio-btn"})})]})}),e(Be,{}),m?c(X,{children:[e("div",{className:"pf-v5-u-mt-md pf-v5-u-ml-lg",children:e(zt,{isLineNumbersVisible:!0,isLanguageLabelVisible:!0,isReadOnly:!1,code:y,language:$t.json,height:"30rem",onChange:b})}),c("div",{className:"pf-v5-u-mt-md",children:[e(R,{variant:le.primary,className:"pf-v5-u-mr-md pf-v5-u-ml-lg","data-testid":"jsonEditor-policies-saveBtn",onClick:w,children:n("save")}),e(R,{variant:le.link,"data-testid":"jsonEditor-reloadBtn",onClick:()=>{b(lt(r))},children:n("reload")})]})]}):e(ze,{emptyState:e(xe,{message:n("noClientPolicies"),instructions:n("noClientPoliciesInstructions"),primaryActionText:n("createClientPolicy"),onPrimaryAction:()=>s(Wt({realm:i}))}),ariaLabelKey:"clientPolicies",searchPlaceholderKey:"clientPolicySearch",loader:T,toolbarItem:e(Ae,{children:e(R,{id:"createPolicy",component:g=>e(Pe,{...g,to:Wt({realm:i})}),"data-testid":"createPolicy",children:n("createClientPolicy")})}),isRowDisabled:g=>!!g.global,actions:[{title:n("delete"),onRowClick:g=>{L(),E(g)}}],columns:[{name:"name",cellRenderer:({name:g})=>e(Pe,{to:Qa({realm:i,policyName:g}),children:g})},{name:"enabled",displayKey:"status",cellRenderer:g=>e(Tl,{clientPolicy:g,form:x,saveStatus:N,onConfirm:()=>{x.setValue(g.name,!1),N()}})},{name:"description"}]},h.length)]}):e(We,{})},Tl=({clientPolicy:l,form:n,saveStatus:a,onConfirm:t})=>{const{t:i}=U(),[s,m]=Te({titleKey:"disablePolicyConfirmTitle",messageKey:"disablePolicyConfirm",continueButtonLabel:"disable",onConfirm:t});return c(X,{children:[e(m,{}),e(H,{name:l.name,"data-testid":`${l.name}-switch`,defaultValue:l.enabled,control:n.control,render:({field:d})=>e(ge,{label:i("enabled"),labelOff:i("disabled"),isChecked:d.value,isDisabled:l.global,onChange:(h,o)=>{o?(d.onChange(o),a()):s()},"aria-label":l.name})})]})};function Cl(){const{adminClient:l}=se(),{t:n}=U(),{realm:a}=ie(),{addAlert:t,addError:i}=Ce(),[s,m]=p(),[d,h]=p(),[o,u]=p(),[E,k]=p(!1),[O,y]=p(),[b,r]=p(0);Ue(()=>l.clientPolicies.listProfiles({includeGlobalProfiles:!0}),w=>{h(w.globalProfiles);const L=w.globalProfiles?.map(P=>({...P,global:!0})),B=w.profiles?.map(P=>({...P,global:!1})),g=L?.concat(B??[]);m(g||[]),y(JSON.stringify(g,null,2))},[b]);const f=async()=>s??[],v=w=>wa(w,"global"),[x,T]=Te({titleKey:n("deleteClientProfileConfirmTitle"),messageKey:n("deleteClientProfileConfirm",{profileName:o?.name}),continueButtonLabel:n("delete"),continueButtonVariant:le.danger,onConfirm:async()=>{const w=s?.filter(L=>L.name!==o?.name&&!L.global).map(L=>v(L));try{await l.clientPolicies.createProfiles({profiles:w,globalProfiles:d}),t(n("deleteClientSuccess"),ne.success),r(b+1)}catch(L){i(n("deleteClientError"),L)}}}),N=w=>c(Pe,{to:en({realm:a,profileName:w.name}),children:[w.name," ",w.global&&e(pt,{color:"blue",children:n("global")})]},w.name);if(!s)return e(We,{});const I=async()=>{if(O)try{const w=JSON.parse(O),L=w.filter(g=>!g.global).map(g=>v(g)),B=w.filter(g=>g.global).map(g=>v(g));try{await l.clientPolicies.createProfiles({profiles:L,globalProfiles:B}),t(n("updateClientProfilesSuccess"),ne.success),r(b+1)}catch(g){i("updateClientProfilesError",g)}}catch(w){i("invalidJsonClientProfilesError",w)}};return c(X,{children:[e(T,{}),e(ce,{children:c(_t,{className:"kc-profiles-config-section",children:[e(Oe,{children:e(ua,{headingLevel:"h1",size:"md",children:n("profilesConfigType")})}),e(Oe,{children:e(ft,{isChecked:!E,name:"profilesView",onChange:()=>k(!1),label:n("profilesConfigTypes.formView"),id:"formView-profilesView",className:"kc-form-radio-btn pf-v5-u-mr-sm pf-v5-u-ml-sm","data-testid":"formView-profilesView"})}),e(Oe,{children:e(ft,{isChecked:E,name:"profilesView",onChange:()=>k(!0),label:n("profilesConfigTypes.jsonEditor"),id:"jsonEditor-profilesView",className:"kc-editor-radio-btn","data-testid":"jsonEditor-profilesView"})})]})}),e(Be,{}),E?c(D,{fieldId:"jsonEditor",children:[e("div",{className:"pf-v5-u-mt-md pf-v5-u-ml-lg",children:e(zt,{isLineNumbersVisible:!0,isLanguageLabelVisible:!0,isReadOnly:!1,code:O,language:$t.json,height:"30rem",onChange:w=>{y(w??"")}})}),e(Le,{children:c("div",{className:"pf-v5-u-mt-md",children:[e(R,{variant:le.primary,className:"pf-v5-u-mr-md pf-v5-u-ml-lg",onClick:I,"data-testid":"jsonEditor-saveBtn",children:n("save")}),e(R,{variant:le.link,onClick:()=>{y(lt(s))},"data-testid":"jsonEditor-reloadBtn",children:n("reload")})]})})]}):e(ze,{ariaLabelKey:"profiles",searchPlaceholderKey:"clientProfileSearch",loader:f,toolbarItem:e(Ae,{children:e(R,{id:"createProfile",component:w=>e(Pe,{...w,to:Za({realm:a,tab:"profiles"})}),"data-testid":"createProfile",children:n("createClientProfile")})}),isRowDisabled:w=>w.global,actions:[{title:n("delete"),onRowClick:w=>{u(w),x()}}],columns:[{name:"name",displayKey:n("name"),cellRenderer:N},{name:"description",displayKey:n("clientProfileDescription")}],emptyState:e(xe,{message:n("emptyClientProfiles"),instructions:n("emptyClientProfilesInstructions")})},s.length)]})}const Sl=({realm:l,save:n})=>{const{t:a}=U(),{setValue:t,control:i,handleSubmit:s,formState:m}=ye(),d=He({control:i,name:"offlineSessionMaxLifespanEnabled"}),h=()=>{Ve(l,t)};return Ee(h,[]),c(ce,{variant:"light",children:[e(ke,{title:a("SSOSessionSettings"),className:"kc-sso-session-template",children:c(ae,{isHorizontal:!0,role:"manage-realm",onSubmit:s(n),children:[e(D,{label:a("SSOSessionIdle"),fieldId:"SSOSessionIdle",labelIcon:e(K,{helpText:a("ssoSessionIdle"),fieldLabelId:"SSOSessionIdle"}),children:e(H,{name:"ssoSessionIdleTimeout",defaultValue:l.ssoSessionIdleTimeout,control:i,render:({field:o})=>e(Q,{className:"kc-sso-session-idle","data-testid":"sso-session-idle-input",value:o.value,onChange:o.onChange,units:["minute","hour","day"]})})}),e(D,{label:a("SSOSessionMax"),fieldId:"SSOSessionMax",labelIcon:e(K,{helpText:a("ssoSessionMax"),fieldLabelId:"SSOSessionMax"}),children:e(H,{name:"ssoSessionMaxLifespan",control:i,render:({field:o})=>e(Q,{className:"kc-sso-session-max","data-testid":"sso-session-max-input",value:o.value,onChange:o.onChange,units:["minute","hour","day"]})})}),e(D,{label:a("SSOSessionIdleRememberMe"),fieldId:"SSOSessionIdleRememberMe",labelIcon:e(K,{helpText:a("ssoSessionIdleRememberMe"),fieldLabelId:"SSOSessionIdleRememberMe"}),children:e(H,{name:"ssoSessionIdleTimeoutRememberMe",control:i,render:({field:o})=>e(Q,{className:"kc-sso-session-idle-remember-me","data-testid":"sso-session-idle-remember-me-input",value:o.value,onChange:o.onChange,units:["minute","hour","day"]})})}),e(D,{label:a("SSOSessionMaxRememberMe"),fieldId:"SSOSessionMaxRememberMe",labelIcon:e(K,{helpText:a("ssoSessionMaxRememberMe"),fieldLabelId:"SSOSessionMaxRememberMe"}),children:e(H,{name:"ssoSessionMaxLifespanRememberMe",control:i,render:({field:o})=>e(Q,{className:"kc-sso-session-max-remember-me","data-testid":"sso-session-max-remember-me-input",value:o.value,onChange:o.onChange,units:["minute","hour","day"]})})})]})}),e(ke,{title:a("clientSessionSettings"),className:"kc-client-session-template",children:c(ae,{isHorizontal:!0,role:"manage-realm",className:"pf-v5-u-mt-lg",onSubmit:s(n),children:[e(D,{label:a("clientSessionIdle"),fieldId:"clientSessionIdle",labelIcon:e(K,{helpText:a("clientSessionIdleHelp"),fieldLabelId:"clientSessionIdle"}),children:e(H,{name:"clientSessionIdleTimeout",control:i,render:({field:o})=>e(Q,{className:"kc-client-session-idle","data-testid":"client-session-idle-input",value:o.value,onChange:o.onChange,units:["minute","hour","day"]})})}),e(D,{label:a("clientSessionMax"),fieldId:"clientSessionMax",labelIcon:e(K,{helpText:a("clientSessionMaxHelp"),fieldLabelId:"clientSessionMax"}),children:e(H,{name:"clientSessionMaxLifespan",control:i,render:({field:o})=>e(Q,{className:"kc-client-session-max","data-testid":"client-session-max-input",value:o.value,onChange:o.onChange,units:["minute","hour","day"]})})})]})}),e(ke,{title:a("offlineSessionSettings"),className:"kc-offline-session-template",children:c(ae,{isHorizontal:!0,role:"manage-realm",className:"pf-v5-u-mt-lg",onSubmit:s(n),children:[e(D,{label:a("offlineSessionIdle"),fieldId:"offlineSessionIdle",labelIcon:e(K,{helpText:a("offlineSessionIdleHelp"),fieldLabelId:"offlineSessionIdle"}),children:e(H,{name:"offlineSessionIdleTimeout",control:i,render:({field:o})=>e(Q,{className:"kc-offline-session-idle","data-testid":"offline-session-idle-input","aria-label":"offline-session-idle-input",value:o.value,onChange:o.onChange,units:["minute","hour","day"]})})}),e(D,{hasNoPaddingTop:!0,label:a("offlineSessionMaxLimited"),fieldId:"kc-offlineSessionMaxLimited",labelIcon:e(K,{helpText:a("offlineSessionMaxLimitedHelp"),fieldLabelId:"offlineSessionMaxLimited"}),children:e(H,{name:"offlineSessionMaxLifespanEnabled",control:i,defaultValue:!1,render:({field:o})=>e(ge,{id:"kc-offline-session-max","data-testid":"offline-session-max-switch","aria-label":a("offlineSessionMaxLimited"),label:a("enabled"),labelOff:a("disabled"),isChecked:o.value,onChange:o.onChange})})}),d&&e(D,{label:a("offlineSessionMax"),fieldId:"offlineSessionMax",id:"offline-session-max-label",labelIcon:e(K,{helpText:a("offlineSessionMaxHelp"),fieldLabelId:"offlineSessionMax"}),children:e(H,{name:"offlineSessionMaxLifespan",control:i,render:({field:o})=>e(Q,{className:"kc-offline-session-max","data-testid":"offline-session-max-input",value:o.value,onChange:o.onChange,units:["minute","hour","day"]})})})]})}),e(ke,{className:"kc-login-settings-template",title:a("loginSettings"),children:c(ae,{isHorizontal:!0,role:"manage-realm",className:"pf-v5-u-mt-lg",onSubmit:s(n),children:[e(D,{label:a("loginTimeout"),id:"kc-login-timeout-label",fieldId:"offlineSessionIdle",labelIcon:e(K,{helpText:a("loginTimeoutHelp"),fieldLabelId:"loginTimeout"}),children:e(H,{name:"accessCodeLifespanLogin",control:i,render:({field:o})=>e(Q,{className:"kc-login-timeout","data-testid":"login-timeout-input","aria-label":"login-timeout-input",value:o.value,onChange:o.onChange,units:["minute","hour","day"]})})}),e(D,{label:a("loginActionTimeout"),fieldId:"loginActionTimeout",id:"login-action-timeout-label",labelIcon:e(K,{helpText:a("loginActionTimeoutHelp"),fieldLabelId:"loginActionTimeout"}),children:e(H,{name:"accessCodeLifespanUserAction",control:i,render:({field:o})=>e(Q,{className:"kc-login-action-timeout","data-testid":"login-action-timeout-input",value:o.value,onChange:o.onChange,units:["minute","hour","day"]})})}),c(Le,{children:[e(R,{variant:"primary",type:"submit","data-testid":"sessions-tab-save",isDisabled:!m.isDirty,children:a("save")}),e(R,{variant:"link",onClick:h,children:a("revert")})]})]})})]})},kl=({realm:l,save:n})=>{const{t:a}=U(),[t,i]=p(!1),[s,m]=p(!1),[d,h]=p(!1),[o,u]=p(!1),{control:E,handleSubmit:k,setValue:O}=ye(),y=_e().themes,b=()=>{Ve(l,O)};return Ee(b,[]),e(ce,{variant:"light",children:c(ae,{isHorizontal:!0,role:"manage-realm",className:"pf-v5-u-mt-lg",onSubmit:k(n),children:[e(D,{label:a("loginTheme"),fieldId:"kc-login-theme",labelIcon:e(K,{helpText:a("loginThemeHelp"),fieldLabelId:"loginTheme"}),children:e(H,{name:"loginTheme",control:E,defaultValue:"",render:({field:r})=>e(ve,{toggleId:"kc-login-theme",onToggle:()=>i(!t),onSelect:f=>{r.onChange(f),i(!1)},selections:r.value,variant:Ie.single,isOpen:t,placeholderText:a("selectATheme"),"data-testid":"select-login-theme","aria-label":a("selectLoginTheme"),children:y.login.map((f,v)=>e(te,{selected:f.name===r.value,value:f.name,children:a(f.name)},`login-theme-${v}`))})})}),e(D,{label:a("accountTheme"),fieldId:"kc-account-theme",labelIcon:e(K,{helpText:a("accountThemeHelp"),fieldLabelId:"accountTheme"}),children:e(H,{name:"accountTheme",control:E,defaultValue:"",render:({field:r})=>e(ve,{toggleId:"kc-account-theme",onToggle:()=>m(!s),onSelect:f=>{r.onChange(f),m(!1)},selections:r.value,variant:Ie.single,"aria-label":a("selectAccountTheme"),isOpen:s,placeholderText:a("selectATheme"),"data-testid":"select-account-theme",children:y.account.filter(f=>f.name!=="base").map((f,v)=>e(te,{selected:f.name===r.value,value:f.name,children:a(f.name)},`account-theme-${v}`))})})}),e(D,{label:a("adminTheme"),fieldId:"kc-admin-ui-theme",labelIcon:e(K,{helpText:a("adminThemeHelp"),fieldLabelId:"adminTheme"}),children:e(H,{name:"adminTheme",control:E,defaultValue:"",render:({field:r})=>e(ve,{toggleId:"kc-admin-ui-theme",onToggle:()=>h(!d),onSelect:f=>{r.onChange(f),h(!1)},selections:r.value,variant:Ie.single,isOpen:d,placeholderText:a("selectATheme"),"data-testid":"select-admin-theme","aria-label":a("selectAdminTheme"),children:y.admin.filter(f=>f.name!=="base").map((f,v)=>e(te,{selected:f.name===r.value,value:f.name,children:a(f.name)},`admin-theme-${v}`))})})}),e(D,{label:a("emailTheme"),fieldId:"kc-email-theme",labelIcon:e(K,{helpText:a("emailThemeHelp"),fieldLabelId:"emailTheme"}),children:e(H,{name:"emailTheme",control:E,defaultValue:"",render:({field:r})=>e(ve,{toggleId:"kc-email-theme",onToggle:()=>u(!o),onSelect:f=>{r.onChange(f),u(!1)},selections:r.value,variant:Ie.single,isOpen:o,placeholderText:a("selectATheme"),"data-testid":"select-email-theme","aria-label":a("selectEmailTheme"),children:y.email.map((f,v)=>e(te,{selected:f.name===r.value,value:f.name,children:a(f.name)},`email-theme-${v}`))})})}),c(Le,{children:[e(R,{variant:"primary",type:"submit","data-testid":"themes-tab-save",children:a("save")}),e(R,{variant:"link",onClick:b,children:a("revert")})]})]})})},Il=({realm:l,reset:n,save:a})=>{const{t}=U(),i=_e(),s=Mt(),{whoAmI:m}=it(),[d,h]=p(!1),o=tn(i.providers.signature.providers),u=ye(),{setValue:E,control:k}=u,O=He({control:k,name:"offlineSessionMaxLifespanEnabled",defaultValue:l.offlineSessionMaxLifespanEnabled}),y=He({control:k,name:"ssoSessionIdleTimeout",defaultValue:36e3}),b=He({control:k,name:"revokeRefreshToken",defaultValue:!1});return Ee(()=>{Ve(l,E)},[]),c(ce,{variant:"light",children:[e(ke,{title:t("general"),className:"kc-sso-session-template",children:c(ae,{isHorizontal:!0,role:"manage-realm",onSubmit:u.handleSubmit(a),children:[e(D,{label:t("defaultSigAlg"),fieldId:"kc-default-signature-algorithm",labelIcon:e(K,{helpText:t("defaultSigAlgHelp"),fieldLabelId:"algorithm"}),children:e(H,{name:"defaultSignatureAlgorithm",defaultValue:"RS256",control:u.control,render:({field:r})=>e(ve,{toggleId:"kc-default-sig-alg",onToggle:()=>h(!d),onSelect:f=>{r.onChange(f.toString()),h(!1)},selections:r.value?.toString(),variant:Ie.single,"aria-label":t("defaultSigAlg"),isOpen:d,"data-testid":"select-default-sig-alg",children:o.map((f,v)=>e(te,{selected:f===r.value,value:f,children:f},`default-sig-alg-${v}`))})})}),s(Ft.DeviceFlow)&&c(X,{children:[e(D,{label:t("oAuthDeviceCodeLifespan"),fieldId:"oAuthDeviceCodeLifespan",labelIcon:e(K,{helpText:t("oAuthDeviceCodeLifespanHelp"),fieldLabelId:"oAuthDeviceCodeLifespan"}),children:e(H,{name:"oauth2DeviceCodeLifespan",defaultValue:0,control:u.control,render:({field:r})=>e(Q,{id:"oAuthDeviceCodeLifespan","data-testid":"oAuthDeviceCodeLifespan",value:r.value||0,onChange:r.onChange,units:["minute","hour","day"]})})}),e(D,{label:t("oAuthDevicePollingInterval"),fieldId:"oAuthDevicePollingInterval",labelIcon:e(K,{helpText:t("oAuthDevicePollingIntervalHelp"),fieldLabelId:"oAuthDevicePollingInterval"}),children:e(H,{name:"oauth2DevicePollingInterval",defaultValue:0,control:u.control,render:({field:r})=>e(Jt,{id:"oAuthDevicePollingInterval",value:r.value,min:0,onPlus:()=>r.onChange(Number(r?.value)+1),onMinus:()=>r.onChange(Number(r?.value)>0?Number(r?.value)-1:0),onChange:f=>{const v=Number(f.currentTarget.value);r.onChange(isNaN(v)?0:v)},placeholder:t("oAuthDevicePollingInterval")})})}),e(D,{label:t("shortVerificationUri"),fieldId:"shortVerificationUri",labelIcon:e(K,{helpText:t("shortVerificationUriTooltipHelp"),fieldLabelId:"shortVerificationUri"}),children:e(yt,{id:"shortVerificationUri",placeholder:t("shortVerificationUri"),...u.register("attributes.shortVerificationUri")})}),e(D,{label:t("parRequestUriLifespan"),fieldId:"parRequestUriLifespan",labelIcon:e(K,{helpText:t("parRequestUriLifespanHelp"),fieldLabelId:"parRequestUriLifespan"}),children:e(H,{name:"attributes.parRequestUriLifespan",control:u.control,render:({field:r})=>e(Q,{id:"parRequestUriLifespan",className:"par-request-uri-lifespan","data-testid":"par-request-uri-lifespan-input","aria-label":"par-request-uri-lifespan",value:r.value,onChange:r.onChange})})})]})]})}),e(ke,{title:t("refreshTokens"),className:"kc-client-session-template",children:c(ae,{isHorizontal:!0,role:"manage-realm",className:"pf-v5-u-mt-lg",onSubmit:u.handleSubmit(a),children:[e(D,{hasNoPaddingTop:!0,label:t("revokeRefreshToken"),fieldId:"kc-revoke-refresh-token",labelIcon:e(K,{helpText:t("revokeRefreshTokenHelp"),fieldLabelId:"revokeRefreshToken"}),children:e(H,{name:"revokeRefreshToken",control:u.control,defaultValue:!1,render:({field:r})=>e(ge,{id:"kc-revoke-refresh-token","data-testid":"revoke-refresh-token-switch","aria-label":t("revokeRefreshToken"),label:t("enabled"),labelOff:t("disabled"),isChecked:r.value,onChange:r.onChange})})}),b&&e(D,{label:t("refreshTokenMaxReuse"),labelIcon:e(K,{helpText:t("refreshTokenMaxReuseHelp"),fieldLabelId:"refreshTokenMaxReuse"}),fieldId:"refreshTokenMaxReuse",children:e(H,{name:"refreshTokenMaxReuse",defaultValue:0,control:u.control,render:({field:r})=>e(Jt,{type:"text",id:"refreshTokenMaxReuseMs",value:r.value,onPlus:()=>r.onChange(r.value+1),onMinus:()=>r.onChange(r.value-1),onChange:f=>r.onChange(Number(f.target.value))})})})]})}),e(ke,{title:t("accessTokens"),className:"kc-offline-session-template",children:c(ae,{isHorizontal:!0,role:"manage-realm",className:"pf-v5-u-mt-lg",onSubmit:u.handleSubmit(a),children:[c(D,{label:t("accessTokenLifespan"),fieldId:"accessTokenLifespan",labelIcon:e(K,{helpText:t("accessTokenLifespanHelp"),fieldLabelId:"accessTokenLifespan"}),children:[e(H,{name:"accessTokenLifespan",control:u.control,render:({field:r})=>e(Q,{validated:r.value>y?"warning":"default",className:"kc-access-token-lifespan","data-testid":"access-token-lifespan-input","aria-label":"access-token-lifespan",value:r.value,onChange:r.onChange,units:["minute","hour","day"]})}),e(an,{children:e(nn,{children:e(ln,{children:t("recommendedSsoTimeout",{time:Kn(y,m.getLocale())})})})})]}),e(D,{label:t("accessTokenLifespanImplicitFlow"),fieldId:"accessTokenLifespanImplicitFlow",labelIcon:e(K,{helpText:t("accessTokenLifespanImplicitFlow"),fieldLabelId:"accessTokenLifespanImplicitFlow"}),children:e(H,{name:"accessTokenLifespanForImplicitFlow",control:u.control,render:({field:r})=>e(Q,{className:"kc-access-token-lifespan-implicit","data-testid":"access-token-lifespan-implicit-input",value:r.value,onChange:r.onChange,units:["minute","hour","day"]})})}),e(D,{label:t("clientLoginTimeout"),fieldId:"clientLoginTimeout",labelIcon:e(K,{helpText:t("clientLoginTimeoutHelp"),fieldLabelId:"clientLoginTimeout"}),children:e(H,{name:"accessCodeLifespan",control:u.control,render:({field:r})=>e(Q,{className:"kc-client-login-timeout","data-testid":"client-login-timeout-input","aria-label":"client-login-timeout",value:r.value,onChange:r.onChange,units:["minute","hour","day"]})})}),O&&e(D,{label:t("offlineSessionMax"),fieldId:"offlineSessionMax",id:"offline-session-max-label",labelIcon:e(K,{helpText:t("offlineSessionMaxHelp"),fieldLabelId:"offlineSessionMax"}),children:e(H,{name:"offlineSessionMaxLifespan",control:u.control,render:({field:r})=>e(Q,{className:"kc-offline-session-max","data-testid":"offline-session-max-input",value:r.value,onChange:r.onChange,units:["minute","hour","day"]})})})]})}),e(ke,{className:"kc-login-settings-template",title:t("actionTokens"),children:c(ae,{isHorizontal:!0,role:"manage-realm",className:"pf-v5-u-mt-lg",onSubmit:u.handleSubmit(a),children:[e(D,{label:t("userInitiatedActionLifespan"),id:"kc-user-initiated-action-lifespan",fieldId:"userInitiatedActionLifespan",labelIcon:e(K,{helpText:t("userInitiatedActionLifespanHelp"),fieldLabelId:"userInitiatedActionLifespan"}),children:e(H,{name:"actionTokenGeneratedByUserLifespan",control:u.control,render:({field:r})=>e(Q,{className:"kc-user-initiated-action-lifespan","data-testid":"user-initiated-action-lifespan","aria-label":"user-initiated-action-lifespan",value:r.value,onChange:r.onChange,units:["minute","hour","day"]})})}),e(D,{label:t("defaultAdminInitiated"),fieldId:"defaultAdminInitiated",id:"default-admin-initiated-label",labelIcon:e(K,{helpText:t("defaultAdminInitiatedActionLifespanHelp"),fieldLabelId:"defaultAdminInitiated"}),children:e(H,{name:"actionTokenGeneratedByAdminLifespan",control:u.control,render:({field:r})=>e(Q,{className:"kc-default-admin-initiated","data-testid":"default-admin-initated-input","aria-label":"default-admin-initated-input",value:r.value,onChange:r.onChange,units:["minute","hour","day"]})})}),e(Re,{className:"kc-override-action-tokens-subtitle",component:Ht.h1,children:t("overrideActionTokens")}),e(D,{label:t("emailVerification"),fieldId:"emailVerification",id:"email-verification",labelIcon:e(K,{helpText:t("emailVerificationHelp"),fieldLabelId:"emailVerification"}),children:e(H,{name:`attributes.${ot("actionTokenGeneratedByUserLifespan.verify-email")}`,defaultValue:"",control:u.control,render:({field:r})=>e(Q,{className:"kc-email-verification","data-testid":"email-verification-input",value:r.value,onChange:f=>r.onChange(f.toString()),units:["minute","hour","day"]})})}),e(D,{label:t("idpAccountEmailVerification"),fieldId:"idpAccountEmailVerification",id:"idp-acct-label",labelIcon:e(K,{helpText:t("idpAccountEmailVerificationHelp"),fieldLabelId:"idpAccountEmailVerification"}),children:e(H,{name:`attributes.${ot("actionTokenGeneratedByUserLifespan.idp-verify-account-via-email")}`,defaultValue:"",control:u.control,render:({field:r})=>e(Q,{className:"kc-idp-email-verification","data-testid":"idp-email-verification-input",value:r.value,onChange:r.onChange,units:["minute","hour","day"]})})}),e(D,{label:t("forgotPassword"),fieldId:"forgotPassword",id:"forgot-password-label",labelIcon:e(K,{helpText:t("forgotPasswordHelp"),fieldLabelId:"forgotPassword"}),children:e(H,{name:`attributes.${ot("actionTokenGeneratedByUserLifespan.reset-credentials")}`,defaultValue:"",control:u.control,render:({field:r})=>e(Q,{className:"kc-forgot-pw","data-testid":"forgot-pw-input",value:r.value,onChange:r.onChange,units:["minute","hour","day"]})})}),e(D,{label:t("executeActions"),fieldId:"executeActions",id:"execute-actions",labelIcon:e(K,{helpText:t("executeActionsHelp"),fieldLabelId:"executeActions"}),children:e(H,{name:`attributes.${ot("actionTokenGeneratedByUserLifespan.execute-actions")}`,defaultValue:"",control:u.control,render:({field:r})=>e(Q,{className:"kc-execute-actions","data-testid":"execute-actions-input",value:r.value,onChange:r.onChange,units:["minute","hour","day"]})})}),c(Le,{children:[e(R,{variant:"primary",type:"submit","data-testid":"tokens-tab-save",isDisabled:!u.formState.isDirty,children:t("save")}),e(R,{variant:"link",onClick:n,children:t("revert")})]})]})})]})},Ll=()=>{const{adminClient:l}=se(),{t:n}=U(),[a,t]=qe(),[i,s]=qe(),[m,d]=p(),[h,o]=p([]),[u,E]=p(0),[k,O]=p(0),y=()=>O(k+1),{realm:b}=ie(),{addAlert:r,addError:f}=Ce(),{enabled:v}=sn(),{hasAccess:x}=Ut(),T=x("view-users","manage-realm");Ue(()=>l.realms.getDefaultGroups({realm:b}),g=>{d(g),E(u+1)},[k]);const N=()=>Promise.resolve(m),I=async()=>{try{await Promise.all(h.map(g=>l.realms.removeDefaultGroup({realm:b,id:g.id}))),r(n("groupRemove",{count:h.length}),ne.success),o([])}catch(g){f("groupRemoveError",g)}y()},w=async g=>{try{await Promise.all(g.map(P=>l.realms.addDefaultGroup({realm:b,id:P.id}))),r(n("defaultGroupAdded",{count:g.length}),ne.success)}catch(P){f("defaultGroupAddedError",P)}y()},[L,B]=Te({titleKey:n("removeConfirmTitle",{count:h.length}),messageKey:n("removeConfirm",{count:h.length}),continueButtonLabel:"delete",continueButtonVariant:le.danger,onConfirm:I});return m?c(X,{children:[e(B,{}),i&&e(Fn,{type:"selectMany",text:{title:"addDefaultGroups",ok:"add"},onConfirm:g=>{w(g||[]),s()},onClose:s}),v&&e(rn,{bodyContent:c(vt,{i18nKey:"defaultGroupsHelp",children:[" ",e(Pe,{to:Xt({realm:b})}),"."]}),children:e(st,{className:"keycloak__section_intro__help",style:{paddingLeft:"var(--pf-v5-c-page__main-section--PaddingLeft)"},children:c(Re,{children:[e(Hn,{})," ",n("whatIsDefaultGroups")]})})}),e(ze,{canSelectAll:!0,onSelect:g=>o([...g]),loader:N,ariaLabelKey:"defaultGroups",searchPlaceholderKey:"searchForGroups",toolbarItem:T&&c(X,{children:[e(Ae,{children:e(R,{"data-testid":"openCreateGroupModal",variant:"primary",onClick:s,children:n("addGroups")})}),e(Ae,{children:e(pa,{onOpenChange:t,toggle:g=>e(ha,{ref:g,isExpanded:a,variant:"plain",onClick:t,isDisabled:h.length===0,children:e(fa,{})}),isOpen:a,shouldFocusToggleOnSelect:!0,children:e(ba,{children:e(tt,{component:"button",onClick:()=>{L(),t()},children:n("remove")},"action")})})})]}),actions:T?[{title:n("remove"),onRowClick:g=>(o([g]),L(),Promise.resolve(!1))}]:[],columns:[{name:"name",displayKey:"groupName"},{name:"path",displayKey:"path"}],emptyState:e(xe,{hasIcon:!0,message:n("noDefaultGroups"),instructions:c(vt,{i18nKey:"noDefaultGroupsInstructions",children:[" ",e(Pe,{className:"pf-v5-u-font-weight-light",to:Xt({realm:b}),role:"navigation","aria-label":n("identityBrokeringLink")}),"Add groups..."]}),primaryActionText:T?n("addGroups"):"",onPrimaryAction:s})},u)]}):e(We,{})},Pl=()=>{const{adminClient:l}=se(),{t:n}=U(),[a,t]=p(10),{realmRepresentation:i}=ie(),[s,m]=p(0),{addAlert:d,addError:h}=Ce(),{realm:o}=ie(),u=async E=>{const k=E;try{await l.roles.createComposite({roleId:i?.defaultRole.id,realm:o},k),m(s+1),d(n("addAssociatedRolesSuccess"),ne.success)}catch(O){h("addAssociatedRolesError",O)}};return c(Tt,{activeKey:a,onSelect:(E,k)=>t(k),children:[e($,{id:"roles",eventKey:10,title:e(j,{children:n("defaultRoles")}),"data-testid":"default-roles-tab",children:e(Mn,{name:i?.defaultRole.name,id:i?.defaultRole.id,type:"roles",isManager:!0,save:E=>u(E.map(k=>k.role))})},s),e($,{id:"groups",eventKey:20,title:e(j,{children:n("defaultGroups")}),"data-testid":"default-groups-tab",children:e(Ll,{})})]})};function xa({ariaLabelKey:l="userEventsRegistered",eventTypes:n,addTypes:a,onSelect:t,onDelete:i}){const{t:s}=U(),m=n.map(d=>({id:d,name:s(`eventTypes.${d}.name`),description:s(`eventTypes.${d}.description`)}));return e(ze,{ariaLabelKey:l,searchPlaceholderKey:"searchEventType",loader:m,onSelect:t||void 0,canSelectAll:!!t,toolbarItem:a&&e(Ae,{children:e(R,{id:"addTypes",onClick:a,"data-testid":"addTypes",children:s("addSavedTypes")})}),actions:i?[{title:s("remove"),onRowClick:i}]:[],columns:[{name:"name",displayKey:"eventType"},{name:"description",displayKey:"description"}],emptyState:e(xe,{message:s("emptyEvents"),instructions:s("emptyEventsInstructions")})})}const Al=({onConfirm:l,onClose:n,configured:a})=>{const{t}=U(),{enums:i}=_e(),[s,m]=p([]);return e(je,{variant:Xe.medium,title:t("addTypes"),isOpen:!0,onClose:n,actions:[e(R,{"data-testid":"addEventTypeConfirm",variant:"primary",onClick:()=>l(s),children:t("add")},"confirm"),e(R,{"data-testid":"moveCancel",variant:"link",onClick:n,children:t("cancel")},"cancel")],children:e(xa,{ariaLabelKey:"addTypes",onSelect:d=>m(d),eventTypes:i.eventType.filter(d=>!a.includes(d))})})},ia=({type:l,form:n,reset:a,clear:t})=>{const{t:i}=U(),{control:s,watch:m,setValue:d,formState:{isDirty:h}}=n,o=l==="admin"?"adminEventsEnabled":"eventsEnabled",u=m(o),[E,k]=Te({titleKey:"events-disable-title",messageKey:"events-disable-confirm",continueButtonLabel:"confirm",onConfirm:()=>d(o,!1,{shouldDirty:!0})});return c(Ge,{...n,children:[e(k,{}),e(D,{hasNoPaddingTop:!0,label:i("saveEvents"),fieldId:o,labelIcon:e(K,{helpText:i(`save-${l}-eventsHelp`),fieldLabelId:"saveEvents"}),children:e(H,{name:o,defaultValue:!1,control:s,render:({field:O})=>e(ge,{"data-testid":o,id:`${o}-switch`,label:i("on"),labelOff:i("off"),isChecked:O.value,onChange:(y,b)=>{b?O.onChange(b):E()},"aria-label":i("saveEvents")})})}),u&&c(X,{children:[l==="admin"&&e(Ot,{name:"adminEventsDetailsEnabled",label:i("includeRepresentation"),labelIcon:i("includeRepresentationHelp")}),e(Ia,{name:l==="user"?"eventsExpiration":"adminEventsExpiration",label:i("expiration"),labelIcon:i("expirationHelp"),defaultValue:"",units:["minute","hour","day"],controller:{defaultValue:""}})]}),c(Le,{children:[e(R,{variant:"primary",type:"submit",id:`save-${l}`,"data-testid":`save-${l}`,isDisabled:!h,children:i("save")}),e(R,{variant:"link",onClick:a,children:i("revert")})]}),e(Be,{}),e(D,{label:i(l==="user"?"clearUserEvents":"clearAdminEvents"),fieldId:`clear-${l}-events`,labelIcon:e(K,{helpText:i(`${l}-clearEventsHelp`),fieldLabelId:`clear-${l}-events`}),children:e(R,{variant:"danger",id:`clear-${l}-events`,"data-testid":`clear-${l}-events`,onClick:()=>t(),children:i(l==="user"?"clearUserEvents":"clearAdminEvents")})})]})},El=({form:l,reset:n})=>{const{t:a}=U(),i=_e().providers?.eventsListener.providers;return c(Ge,{...l,children:[e(nt,{name:"eventsListeners",label:a("eventListeners"),labelIcon:a("eventListenersHelpTextHelp"),controller:{defaultValue:""},className:"kc_eventListeners_select",chipGroupProps:{numChips:3,expandedText:a("hide"),collapsedText:a("showRemaining")},variant:Ie.typeaheadMulti,options:Object.keys(i)}),c(Le,{children:[e(R,{variant:"primary",type:"submit","data-testid":"saveEventListenerBtn",children:a("save")}),e(R,{variant:"link","data-testid":"revertEventListenerBtn",onClick:n,children:a("revert")})]})]})},wl=({realm:l})=>{const{adminClient:n}=se(),{t:a}=U(),t=ye(),{setValue:i,handleSubmit:s}=t,[m,d]=p(0),h=()=>d(new Date().getTime()),[o,u]=p(0),E=()=>u(new Date().getTime()),[k,O]=p("event"),[y,b]=p(),[r,f]=p(),[v,x]=p(!1),{addAlert:T,addError:N}=Ce(),{realm:I,refresh:w}=ie(),L=G=>{b(G),Ve(G||{},i)},B=async G=>{f(G),g()},[g,P]=Te({titleKey:"deleteEvents",messageKey:"deleteEventsConfirm",continueButtonLabel:"clear",continueButtonVariant:le.danger,onConfirm:async()=>{try{switch(r){case"admin":await n.realms.clearAdminEvents({realm:I});break;case"user":await n.realms.clearEvents({realm:I});break}T(a(`${r}-events-cleared`),ne.success)}catch(G){N(`${r}-events-cleared-error`,G)}}});Ue(()=>n.realms.getConfigEvents({realm:I}),G=>{L({...G,adminEventsExpiration:l.attributes?.adminEventsExpiration}),E()},[m]);const V=async G=>{const q=!La(y?.eventsListeners,G.eventsListeners),{adminEventsExpiration:re,...oe}=G;l.attributes?.adminEventsExpiration!==re&&await n.realms.update({realm:I},{...l,attributes:{...l.attributes||{},adminEventsExpiration:re}}),w();try{await n.realms.updateConfigEvents({realm:I},oe),L({...y,...oe,adminEventsExpiration:re}),T(a(q?"saveEventListenersSuccess":"eventConfigSuccessfully"),ne.success)}catch(fe){N(a(q?"saveEventListenersError":"eventConfigError"),fe)}},z=async G=>{const q=G.map(oe=>oe.id),re=y.enabledEventTypes?.concat(q);await J(re)},J=async(G=[])=>{const q={...t.getValues(),enabledEventTypes:G};await V(q),x(!1),h()};return c(X,{children:[e(P,{}),v&&e(Al,{onConfirm:G=>z(G),configured:y?.enabledEventTypes||[],onClose:()=>x(!1)}),c(Tt,{activeKey:k,onSelect:(G,q)=>O(q),children:[e($,{eventKey:"event",title:e(j,{children:a("eventListeners")}),"data-testid":"rs-event-listeners-tab",children:e(ce,{children:e(ae,{role:"manage-events",isHorizontal:!0,onSubmit:s(V),children:e(El,{form:t,reset:()=>L(y)})})})}),c($,{eventKey:"user",title:e(j,{children:a("userEventsSettings")}),"data-testid":"rs-events-tab",children:[e(ce,{children:e(ae,{role:"manage-events",isHorizontal:!0,onSubmit:s(V),children:e(ia,{type:"user",form:t,reset:()=>L(y),clear:()=>B("user")})})}),e(ce,{children:e(xa,{addTypes:()=>x(!0),eventTypes:y?.enabledEventTypes||[],onDelete:G=>{const q=y?.enabledEventTypes?.filter(re=>re!==G.id);J(q),b({...y,enabledEventTypes:q})}},o)})]}),e($,{eventKey:"admin",title:e(j,{children:a("adminEventsSettings")}),"data-testid":"rs-admin-events-tab",children:e(ce,{children:e(ae,{role:"manage-events",isHorizontal:!0,onSubmit:s(V),children:e(ia,{type:"admin",form:t,reset:()=>L(y),clear:()=>B("admin")})})})})]})]})},et=["ACTIVE","PASSIVE","DISABLED"],xl=({onFilter:l})=>{const{t:n}=U(),[a,t]=p(et[0]),[i,s]=qe();return e(ve,{width:300,"data-testid":"filter-type-select",isOpen:i,className:"kc-filter-type-select",variant:Ie.single,onToggle:s,toggleIcon:e(Pa,{}),onSelect:m=>{const d=et.find(h=>h===m.toString())||et[0];t(d),l(d),s()},selections:a,"aria-label":n("selectFilterType"),children:et.map(m=>e(te,{"data-testid":`${m}-option`,value:m,children:n(`keysFilter.${m}`)},m))})},Dl=({realmComponents:l})=>{const{adminClient:n}=se(),{t:a}=U(),t=Ye(),i=Un(),[s,m]=p(""),[d,h]=p(""),{realm:o}=ie(),[u,E]=p(),[k,O]=p();Ue(async()=>(await n.realms.getKeys({realm:o})).keys?.map(x=>{const T=l.find(N=>N.id===x.providerId);return{...x,provider:T?.name}}),E,[]);const[y,b]=Te({titleKey:a("publicKey"),messageKey:s,continueButtonLabel:"close",continueButtonVariant:le.primary,onConfirm:()=>Promise.resolve()}),[r,f]=Te({titleKey:a("certificate"),messageKey:d,continueButtonLabel:"close",continueButtonVariant:le.primary,onConfirm:()=>Promise.resolve()});return u?c(ce,{variant:"light",padding:{default:"noPadding"},children:[e(b,{}),e(f,{}),e(ze,{isNotCompact:!0,className:"kc-keys-list",loader:k||u,ariaLabelKey:"keysList",searchPlaceholderKey:"searchKey",searchTypeComponent:e(xl,{onFilter:v=>O(v!==et[0]?u.filter(({status:x})=>x===v):void 0)}),columns:[{name:"algorithm",displayKey:"algorithm",cellFormatters:[ct()],transforms:[$e(15)]},{name:"type",displayKey:"type",cellFormatters:[ct()],transforms:[$e(10)]},{name:"kid",displayKey:"kid",cellFormatters:[ct()],transforms:[$e(10)]},{name:"use",displayKey:"use",cellFormatters:[ct()],transforms:[$e(10)]},{name:"provider",displayKey:"provider",cellRenderer:({provider:v})=>v||"-",transforms:[$e(10)]},{name:"validTo",displayKey:"validTo",cellRenderer:({validTo:v})=>v?i(new Date(v)):"-",transforms:[$e(10)]},{name:"publicKeys",displayKey:"publicKeys",cellRenderer:({type:v,publicKey:x,certificate:T})=>v==="EC"?e(R,{onClick:()=>{y(),m(x)},variant:"secondary",id:"kc-public-key",children:a("publicKey")}):v==="RSA"?c("div",{className:"button-wrapper",children:[e(R,{onClick:()=>{y(),m(x)},variant:"secondary",id:x,children:a("publicKey")}),e(R,{onClick:()=>{r(),h(T)},variant:"secondary",id:T,className:"kc-certificate",children:a("certificate")})]}):v==="OKP"?e(R,{onClick:()=>{y(),m(x)},variant:"secondary",id:"kc-public-key",children:a("publicKey")}):"",transforms:[$e(20)]}],isSearching:!!k,emptyState:e(xe,{hasIcon:!0,message:a("noKeys"),instructions:a("noKeysDescription"),primaryActionText:a("addProvider"),onPrimaryAction:()=>t(Rt({realm:o,tab:"providers"}))})})]}):e(We,{})},Rl="_dialog_121se_2",Nl={dialog:Rl},Ol=({providerType:l,onClose:n})=>{const{t:a}=U();return e(je,{className:Nl.dialog,variant:Xe.medium,title:a("addProvider"),isOpen:!0,onClose:n,children:e($n,{providerType:l,onClose:n})})},Vl=({onConfirm:l,onClose:n})=>{const{t:a}=U(),i=_e().componentTypes?.[Gt]??[];return e(je,{variant:"medium",title:a("addProvider"),isOpen:!0,onClose:n,children:e(Ta,{onSelectDataListItem:(s,m)=>{l(m)},"aria-label":a("addPredefinedMappers"),isCompact:!0,children:i.map(s=>e(Ca,{"aria-label":s.id,id:s.id,children:e(Sa,{children:e(ka,{dataListCells:[e(Vt,{"data-testid":`option-${s.id}`,children:s.id},`name-${s.id}`),e(Vt,{width:2,children:s.helpText},`helpText-${s.helpText}`)]})})},s.id))})})},Kl=({realmComponents:l,refresh:n})=>{const{adminClient:a}=se(),{t}=U(),{addAlert:i,addError:s}=Ce(),{realm:m}=ie(),[d,h]=p(""),[o,u]=p([]),[E,k]=qe(),y=_e().componentTypes?.[Gt]??[],[b,r]=qe(),[f,v]=p(),[x,T]=p(),N=at(()=>l.map(P=>{const V=y.find(z=>P.providerId===z.id);return{...P,providerDescription:V?.helpText}}),[l]),[I,w]=Te({titleKey:"deleteProviderTitle",messageKey:t("deleteProviderConfirm",{provider:x?.name}),continueButtonLabel:"delete",continueButtonVariant:le.danger,onConfirm:async()=>{try{await a.components.del({id:x.id,realm:m}),n(),i(t("deleteProviderSuccess"),ne.success)}catch(P){s("deleteProviderError",P)}}}),L=()=>{if(d!==""){h(d);const P=N.filter(V=>V.name?.includes(d)||V.providerId?.includes(d));u(P)}else h(""),u(N)},B=P=>{P.key==="Enter"&&L()},g=P=>{h(P)};return c(X,{children:[b&&e(Vl,{onClose:()=>r(),onConfirm:P=>{k(),v(P),r()}}),E&&f&&e(Ol,{providerType:f,onClose:()=>{k(),n()}}),e(w,{}),c(ce,{variant:"light",padding:{default:"noPadding"},children:[e(ga,{children:c(on,{className:"providers-toolbar",children:[e(Ae,{children:c(cn,{children:[e(Yt,{isFill:!0,children:e(yt,{name:"inputGroupName",id:"inputGroupName","data-testid":"provider-search-input",type:"search","aria-label":t("search"),placeholder:t("search"),onChange:(P,V)=>g(V),onKeyDown:B})}),e(Yt,{children:e(R,{variant:le.control,"aria-label":t("search"),onClick:L,children:e(va,{})})})]})}),e(Ae,{children:e(R,{"data-testid":"addProviderDropdown",className:"add-provider-dropdown",onClick:()=>r(),children:t("addProvider")})})]})}),e(Aa,{variant:"compact",className:"kc-draggable-table",keyField:"id",data:o.length===0?N:o,onDragFinish:async(P,V)=>{const z=N.map(J=>{const G={...J};return delete G.providerDescription,a.components.update({id:J.id},{...G,config:{priority:[(V.length-V.indexOf(J.id)+100).toString()]}})});try{await Promise.all(z),n(),i(t("saveProviderListSuccess"),ne.success)}catch(J){s("saveProviderError",J)}},columns:[{name:"name",displayKey:"name",cellRenderer:P=>e(Pe,{"data-testid":"provider-name-link",to:dn({realm:m,id:P.id,providerType:P.providerId}),children:P.name},P.name)},{name:"providerId",displayKey:"provider"},{name:"providerDescription",displayKey:"providerDescription"}],actions:[{title:t("delete"),onClick:(P,V,z)=>{T(z),I()}}]})]})]})},Ml=l=>[...l].sort((a,t)=>{const i=Number(a.config?.priority),s=Number(t.config?.priority);return(isNaN(s)?0:s)-(isNaN(i)?0:i)}),Fl=()=>{const{adminClient:l}=se(),{t:n}=U(),{realm:a}=ie(),[t,i]=p(),[s,m]=p(0),d=()=>{m(s+1)};Ue(()=>l.components.find({type:Gt,realm:a}),E=>i(Ml(E)),[s]);const h=E=>gt(Rt({realm:a,tab:E})),o=h("list"),u=h("providers");return t?c(bt,{mountOnEnter:!0,unmountOnExit:!0,defaultLocation:Rt({realm:a,tab:"list"}),children:[e($,{id:"keysList","data-testid":"rs-keys-list-tab","aria-label":"keys-list-subtab",title:e(j,{children:n("keysList")}),...o,children:e(Dl,{realmComponents:t})}),e($,{id:"providers","data-testid":"rs-providers-tab","aria-label":"rs-providers-tab",title:e(j,{children:n("providers")}),...u,children:e(Kl,{realmComponents:t,refresh:d})})]}):e(We,{})},sa={theme:"",themeType:"",locale:"",hasWords:[]},Hl=({defaultSupportedLocales:l,defaultLocales:n})=>{const{adminClient:a}=se(),{t}=U(),{realm:i}=ie(),s=_e(),{whoAmI:m}=it(),d=mn(),[h,o]=p(!1),[u,E]=p(!1),[k,O]=p(!1),[y,b]=p(!1),[r,f]=p(!1),[v,x]=p({}),[T,N]=p(0),I=s.themes,w=at(()=>I?d(Object.keys(I),S=>S):[],[I]),L=at(()=>I?d(Object.values(I).flatMap(S=>S.map(A=>A.name)).filter((S,A,Z)=>Z.indexOf(S)===A),S=>S):[],[I]),B=at(()=>Array.from(new Set([...n,...l])),[n,l]),g={theme:t("theme"),themeType:t("themeType"),locale:t("language"),hasWords:t("hasWords")},{getValues:P,reset:V,formState:{isDirty:z,isValid:J},control:G}=ye({mode:"onChange",defaultValues:sa}),q=async()=>{try{const S=P();if(["theme","themeType","locale"].some(he=>!S[he]))return[];const M=await a.serverInfo.findEffectiveMessageBundles({realm:i,...S,locale:S.locale||we,source:!0}),ue=S.hasWords.length>0?M.filter(he=>S.hasWords.some(C=>he.value.includes(C)||he.key.includes(C))):M;return d([...ue],un("key"))}catch{return[]}};function re(){o(!1),me()}function oe(){V(),me()}function fe(S){const A={...P()};delete A[S],V({...sa,...A}),me()}function pe(S,A){const Z=P(),M=Z[S],ue=Array.isArray(M)?M.filter(W=>W!==A):M;V({...Z,[S]:ue}),me()}function me(){const S=qn(P(),A=>A!==""||Array.isArray(A)&&A.length>0);x(S),N(T+1)}const Se=()=>c(_t,{direction:{default:"column"},spaceItems:{default:"spaceItemsNone"},children:[e(Oe,{children:e(st,{children:e(Re,{className:"pf-v5-u-mb-md pf-v5-u-mt-0 pf-v5-u-mr-md",component:Ht.p,children:t("effectiveMessageBundlesDescription")})})}),e(Oe,{children:e(jn,{buttonText:t("searchForEffectiveMessageBundles"),setSearchDropdownOpen:o,searchDropdownOpen:h,marginRight:"2.5rem",width:"15vw",children:c(rt,{isHorizontal:!0,className:"pf-v5-u-w-25vw","data-testid":"effectiveMessageBundlesSearchForm",onSubmit:S=>S.preventDefault(),children:[e(D,{label:t("theme"),fieldId:"kc-theme",isRequired:!0,children:e(H,{name:"theme",control:G,defaultValue:"",rules:{validate:S=>(S||"").length>0},render:({field:S})=>e(ve,{"data-testid":"effective_message_bundles-theme-searchField",chipGroupProps:{numChips:1,expandedText:t("hide"),collapsedText:t("showRemaining")},variant:Ie.single,typeAheadAriaLabel:"Select",onToggle:A=>O(A),selections:S.value,onSelect:A=>{S.onChange(A.toString()),O(!1)},onClear:()=>{S.onChange("")},isOpen:k,"aria-label":t("selectTheme"),chipGroupComponent:e(Qe,{children:e(Je,{onClick:A=>{A.stopPropagation(),S.onChange("")},children:S.value},S.value)}),children:[e(te,{label:t("selectTheme"),isDisabled:!0,children:t("selectTheme")},"theme_placeholder")].concat(L.map(A=>e(te,{value:A,children:A},A)))})})}),e(D,{label:t("themeType"),fieldId:"kc-themeType",isRequired:!0,children:e(H,{name:"themeType",control:G,defaultValue:"",rules:{validate:S=>(S||"").length>0},render:({field:S})=>e(ve,{"data-testid":"effective-message-bundles-feature-searchField",chipGroupProps:{numChips:1,expandedText:t("hide"),collapsedText:t("showRemaining")},variant:Ie.single,typeAheadAriaLabel:"Select",onToggle:A=>b(A),selections:S.value,onSelect:A=>{S.onChange(A.toString()),b(!1)},onClear:()=>{S.onChange("")},isOpen:y,"aria-label":t("selectThemeType"),chipGroupComponent:e(Qe,{children:e(Je,{onClick:A=>{A.stopPropagation(),S.onChange("")},children:S.value},S.value)}),children:[e(te,{label:t("selectThemeType"),isDisabled:!0,children:t("selectThemeType")},"themeType_placeholder")].concat(w.map(A=>e(te,{value:A,children:A},A)))})})}),e(D,{label:t("language"),fieldId:"kc-language",isRequired:!0,children:e(H,{name:"locale",control:G,defaultValue:"",rules:{validate:S=>(S||"").length>0},render:({field:S})=>e(ve,{"data-testid":"effective-message-bundles-language-searchField",chipGroupProps:{numChips:1,expandedText:t("hide"),collapsedText:t("showRemaining")},variant:Ie.single,typeAheadAriaLabel:"Select",onToggle:A=>f(A),selections:S.value,onSelect:A=>{S.onChange(A.toString()),f(!1)},onClear:()=>{S.onChange("")},isOpen:r,"aria-labelledby":"language",chipGroupComponent:e(Qe,{children:S.value?e(Je,{onClick:A=>{A.stopPropagation(),S.onChange("")},children:Ne(S.value,m.getLocale())},S.value):null}),children:[e(te,{label:t("selectLanguage"),isDisabled:!0,children:t("selectLanguage")},"language_placeholder")].concat(B.map(A=>e(te,{value:A,children:Ne(A,m.getLocale())},A)))})})}),e(D,{label:t("hasWords"),fieldId:"kc-hasWords",children:e(H,{name:"hasWords",control:G,render:({field:S})=>c("div",{children:[e(yt,{id:"kc-hasWords","data-testid":"effective-message-bundles-hasWords-searchField",value:S.value.join(" "),onChange:A=>{const M=A.target.value;if(M.trim().length===0)S.onChange([]);else{const ue=M.split(" ").map(W=>W.trim());S.onChange(ue)}}}),e(Qe,{children:S.value.map((A,Z)=>e(Je,{onClick:M=>{M.stopPropagation();const ue=S.value.filter((W,he)=>he!==Z);S.onChange(ue)},children:A},Z))})]})})}),c(Le,{className:"pf-v5-u-mt-sm",children:[e(R,{variant:"primary",onClick:()=>{E(!0),re()},"data-testid":"search-effective-message-bundles-btn",isDisabled:!J,children:t("search")}),e(R,{variant:"secondary",onClick:oe,"data-testid":"reset-search-effective-message-bundles-btn",isDisabled:!z,children:t("reset")})]})]})})}),e(Oe,{children:Object.entries(v).length>0&&e(X,{children:Object.entries(v).map(S=>{const[A,Z]=S;return e(Qe,{className:"pf-v5-u-mt-md pf-v5-u-mr-md",categoryName:g[A],isClosable:!0,onClick:()=>fe(A),children:typeof Z=="string"?e(Je,{isReadOnly:!0,children:A==="locale"?Ne(Z,m.getLocale())?.toLowerCase():Z}):Z.map(M=>e(Je,{onClick:()=>pe(A,M),children:M},M))},A)})})})]});return u?e(ze,{loader:q,ariaLabelKey:"effectiveMessageBundles",toolbarItem:Se(),columns:[{name:"key",displayKey:"key"},{name:"value",displayKey:"value"}],emptyState:e(xe,{message:t("noSearchResults"),instructions:t("noSearchResultsInstructions")}),isSearching:Object.keys(v).length>0},T):c(X,{children:[e("div",{className:"pf-v5-u-py-lg pf-v5-u-pl-md",children:Se()}),e(Be,{}),e(xe,{message:t("emptyEffectiveMessageBundles"),instructions:t("emptyEffectiveMessageBundlesInstructions"),isSearchVariant:!0})]})},Ul=({handleModalToggle:l,save:n,form:a})=>{const{t}=U();return e(je,{variant:Xe.small,title:t("addTranslation"),isOpen:!0,onClose:l,actions:[e(R,{"data-testid":"add-translation-confirm-button",variant:"primary",type:"submit",form:"translation-form",children:t("create")},"confirm"),e(R,{id:"modal-cancel","data-testid":"cancel",variant:le.link,onClick:()=>{l()},children:t("cancel")},"cancel")],children:e(rt,{id:"translation-form",isHorizontal:!0,onSubmit:a.handleSubmit(n),children:c(Ge,{...a,children:[e(be,{name:"key",label:t("key"),autoFocus:!0,rules:{required:t("required")}}),e(be,{name:"value",label:t("value"),rules:{required:t("required")}})]})})})},Gl=({internationalizationEnabled:l,watchSupportedLocales:n,realm:a,tableData:t})=>{const{adminClient:i}=se(),{t:s}=U(),[m,d]=p(!1),[h,o]=p(!1),[u,E]=p([]),[k,O]=p(we),[y,b]=p(!1),{getValues:r,handleSubmit:f}=ye(),[v,x]=p(!1),[T,N]=p([]),[I,w]=p(0),[L,B]=p(10),[g,P]=p(0),[V,z]=p(""),J=ye({mode:"onChange"}),{addAlert:G,addError:q}=Ce(),{realm:re}=ie(),{whoAmI:oe}=it(),[fe,pe]=p([]),[me,Se]=p(!1),[S,A]=p({}),[Z,M]=p(""),ue=()=>{w(I+1)};Ee(()=>{(async()=>{try{let _=await i.realms.getRealmLocalizationTexts({first:g,max:L,realm:a.realm,selectedLocale:k||r("defaultLocale")||oe.getLocale()});if(E(Object.entries(_)),V){const de=Ke=>Object.entries(_).filter(St=>St[Ke].includes(V)),Y=dl(de(0).concat(de(1)),La);_=Object.fromEntries(Y)}return Object.entries(_).slice(g,g+L)}catch{return[]}})().then(_=>{const de=_.map(Y=>({rowEditBtnAriaLabel:()=>s("rowEditBtnAriaLabel",{translation:Y[1]}),rowSaveBtnAriaLabel:()=>s("rowSaveBtnAriaLabel",{translation:Y[1]}),rowCancelBtnAriaLabel:()=>s("rowCancelBtnAriaLabel",{translation:Y[1]}),cells:[{title:Y[0],props:{value:Y[0]}},{title:Y[1],props:{value:Y[1]}}]}));N(de)})},[I,t,g,L,V]);const W=()=>{d(!m)},he=[e(Kt,{label:s("defaultLocale"),children:e(te,{value:we,children:Ne(we,oe.getDisplayName())},we)},"group1"),e(Be,{},"divider"),e(Kt,{label:s("supportedLocales"),children:n.map(F=>e(te,{value:F,children:Ne(F,oe.getLocale())},F))},"group2")],C=async F=>{try{await i.realms.addLocalization({realm:re,selectedLocale:k||r("defaultLocale")||we,key:F.key},F.value),i.setConfig({realmName:re}),ue(),J.setValue("key",""),J.setValue("value",""),Lt.reloadResources(),G(s("addTranslationSuccess"),ne.success)}catch(_){q(s("addTranslationError"),_)}},[ee,De]=Te({titleKey:"deleteConfirmTranslationTitle",messageKey:s("translationDeleteConfirmDialog",{count:fe.length}),continueButtonLabel:"delete",continueButtonVariant:le.danger,onCancel:()=>{pe([]),Se(!1)},onConfirm:async()=>{try{for(const F of fe)delete Lt.store.data[oe.getLocale()][re][F],await i.realms.deleteRealmLocalizationTexts({realm:re,selectedLocale:k,key:F});Se(!1),pe([]),ue(),G(s("deleteAllTranslationsSuccess"),ne.success)}catch(F){q("deleteAllTranslationsError",F)}}}),Ct=(F,_)=>{const de=(T[_].cells?.[0]).props.value;F.target.checked?pe(Y=>[...Y,de]):pe(Y=>Y.filter(Ke=>Ke!==de)),Se(T.length===fe.length+(F.target.checked?1:-1))},Da=()=>{pe(me?[]:T.map(F=>(F.cells?.[0]).props.value)),Se(!me)},Ra=F=>fe.includes(F),Na=async(F,_)=>{const de=Qt(T),Y=Qt(de[_]);(Y.cells?.[1]).props.value=F,de[_]=Y;try{const Ke=(Y.cells?.[0]).props.value,St=(Y.cells?.[1]).props.value;await i.realms.addLocalization({realm:a.realm,selectedLocale:k||r("defaultLocale")||we,key:Ke},St),Lt.reloadResources(),G(s("updateTranslationSuccess"),ne.success),N(de)}catch{G(s("updateTranslationError"),ne.danger)}A(Ke=>({...Ke,[_]:!1}))};return c(X,{children:[e(De,{}),m&&e(Ul,{handleModalToggle:W,save:F=>{C(F),W()},form:J}),e(st,{children:e(Re,{className:"pf-v5-u-mt-lg pf-v5-u-ml-md",component:Ht.p,children:s("realmOverridesDescription")})}),c(Dn,{count:u.length,first:g,max:L,onNextClick:P,onPreviousClick:P,onPerPageSelect:(F,_)=>{P(F),B(_)},inputGroupName:"search",inputGroupOnEnter:F=>{z(F),P(0),B(10)},inputGroupPlaceholder:s("searchForTranslation"),toolbarItem:c(X,{children:[e(R,{"data-testid":"add-translationBtn",onClick:()=>{d(!0),Se(!1),pe([])},children:s("addTranslation")}),e(Ae,{children:e(pa,{onOpenChange:F=>b(F),toggle:F=>e(ha,{ref:F,onClick:()=>b(!y),variant:"plain",isExpanded:y,"data-testid":"toolbar-deleteBtn","aria-label":"kebab",children:e(fa,{})}),isOpen:y,isPlain:!0,children:e(ba,{children:e(tt,{component:"button","data-testid":"delete-selected-TranslationBtn",isDisabled:u.length===0||fe.length===0,onClick:()=>{ee(),b(!1)},children:s("delete")},"action")})})})]}),searchTypeComponent:e(Ae,{children:e(ve,{width:180,isOpen:h,className:"kc-filter-by-locale-select",variant:Ie.single,isDisabled:!l,onToggle:F=>o(F),onSelect:F=>{O(F.toString()),x(!0),ue(),o(!1)},selections:v?Ne(k,oe.getLocale()):a.defaultLocale!==""?Ne(we,oe.getLocale()):s("placeholderText"),children:he})}),children:[u.length===0&&!V&&e(xe,{hasIcon:!0,message:s("noTranslations"),instructions:s("noTranslationsInstructions"),onPrimaryAction:W}),u.length===0&&V&&e(xe,{hasIcon:!0,icon:va,isSearchVariant:!0,message:s("noSearchResults"),instructions:s("noRealmOverridesSearchResultsInstructions")}),u.length!==0&&c(Gn,{"aria-label":s("editableRowsTable"),"data-testid":"editable-rows-table",children:[e(Bn,{children:c(na,{children:[e(dt,{className:"pf-v5-u-px-lg",children:e("input",{type:"checkbox","aria-label":s("selectAll"),checked:me,onChange:Da,"data-testid":"selectAll"})}),e(dt,{className:"pf-v5-u-py-lg",children:s("key")}),e(dt,{className:"pf-v5-u-py-lg",children:s("value")}),e(dt,{"aria-hidden":"true"})]})}),e(_n,{children:T.map((F,_)=>c(na,{children:[e(mt,{className:"pf-v5-u-px-lg",select:{rowIndex:_,onSelect:de=>Ct(de,_),isSelected:Ra((F.cells?.[0]).props.value)}}),e(mt,{className:"pf-m-sm pf-v5-u-px-sm",dataLabel:s("key"),children:(F.cells?.[0]).props.value}),e(mt,{className:"pf-m-sm pf-v5-u-px-sm",dataLabel:s("value"),children:e(rt,{isHorizontal:!0,className:"kc-form-translationValue",onSubmit:f(()=>{Na(Z,_)}),children:e(D,{fieldId:"kc-translationValue",className:"pf-v5-u-display-inline-block",children:S[_]?c(X,{children:[e(yt,{"aria-label":s("editTranslationValue"),type:"text",className:"pf-v5-u-w-initial","data-testid":`editTranslationValueInput-${_}`,value:Z,onChange:(de,Y)=>{M(Y)}},`edit-input-${_}`),e(R,{variant:"link",className:"pf-m-plain","data-testid":`editTranslationAcceptBtn-${_}`,type:"submit","aria-label":s("acceptBtn"),icon:e(pn,{})}),e(R,{variant:"link",className:"pf-m-plain","data-testid":`editTranslationCancelBtn-${_}`,icon:e(hn,{}),"aria-label":s("cancelBtn"),onClick:()=>{A(de=>({...de,[_]:!1}))}})]}):c(X,{children:[e("span",{children:(F.cells?.[1]).props.value}),e(R,{onClick:()=>{const de=(T[_].cells?.[1]).props.value;M(de),A(Y=>({...Y,[_]:!0}))},"aria-label":s("editBtn"),variant:"link",className:"pf-m-plain","data-testid":`editTranslationBtn-${_}`,children:e(Wn,{})},`edit-button-${_}`)]})})})},_),e(mt,{isActionCell:!0,children:e(zn,{items:[{title:s("delete"),onClick:()=>{pe([(F.cells?.[0]).props.value]),u.length===1&&Se(!0),ee(),b(!1)}}]})})]},(F.cells?.[0]).props.value))})]})]})]})},Bl=({save:l,realm:n,tableData:a})=>{const{t}=U(),{whoAmI:i}=it(),[s,m]=p(0),d=ye(),{setValue:h,control:o,handleSubmit:u,formState:E}=d,k=n.supportedLocales?.length?n.supportedLocales:[we],O=_e().themes,y=at(()=>{const x=Object.values(O).flatMap(T=>T.flatMap(({locales:N})=>N||[]));return Array.from(new Set(x))},[O]),b=()=>{Ve(n,h),h("supportedLocales",k)};Ee(b,[]);const r=He({control:o,name:"supportedLocales",defaultValue:k}),f=He({control:o,name:"internationalizationEnabled",defaultValue:n.internationalizationEnabled}),v=He({name:"defaultLocale",control:o,defaultValue:n.defaultLocale?[n.defaultLocale]:[]});return c(Tt,{activeKey:s,onSelect:(x,T)=>m(T),children:[e($,{id:"locales",eventKey:0,title:e(j,{children:t("locales")}),"data-testid":"rs-localization-locales-tab",children:c(ae,{isHorizontal:!0,role:"manage-realm",className:"pf-v5-u-mt-lg pf-v5-u-ml-md",onSubmit:u(l),children:[c(Ge,{...d,children:[e(ca,{name:"internationalizationEnabled",label:t("internationalization"),labelIcon:t("internationalizationHelp"),labelOn:t("enabled"),labelOff:t("disabled"),"aria-label":t("internationalization")}),f&&c(X,{children:[e(nt,{name:"supportedLocales",isScrollable:!0,label:t("supportedLocales"),controller:{defaultValue:k},variant:"typeaheadMulti",placeholderText:t("selectLocales"),options:y.map(x=>({key:x,value:Ne(x,i.getLocale())||x}))}),e(nt,{name:"defaultLocale",label:t("defaultLocale"),controller:{defaultValue:we},"data-testid":"select-default-locale",options:r.map(x=>({key:x,value:Ne(x,i.getLocale())||x}))})]})]}),c(Le,{children:[e(R,{variant:"primary",isDisabled:!E.isDirty,type:"submit","data-testid":"localization-tab-save",children:t("save")}),e(R,{variant:"link",onClick:b,children:t("revert")})]})]})}),e($,{id:"realm-overrides",eventKey:1,title:c(j,{children:[t("realmOverrides")," "]}),"data-testid":"rs-localization-realm-overrides-tab",children:e(Gl,{internationalizationEnabled:f,watchSupportedLocales:r,realm:n,tableData:a})}),e($,{id:"effective-message-bundles",eventKey:2,title:e(j,{children:t("effectiveMessageBundles")}),"data-testid":"rs-localization-effective-message-bundles-tab",children:e(Hl,{defaultSupportedLocales:k,defaultLocales:v})})]})},Me=({fieldName:l,url:n})=>{const{t:a}=U(),t=l.substr(l.indexOf(".")+1);return e(be,{name:l,label:a(t),labelIcon:c(vt,{i18nKey:`${t}Help`,children:["Default value prevents pages from being included",e(Nt,{href:n,title:a("learnMore")})]})})},_l=({realm:l,save:n})=>{const{t:a}=U(),t=ye(),{setValue:i,formState:{isDirty:s},handleSubmit:m}=t,d=()=>Ve(l,i);return Ee(d,[]),e(Ge,{...t,children:c(ae,{isHorizontal:!0,role:"manage-realm",className:"keycloak__security-defences__form",onSubmit:m(n),children:[e(Me,{fieldName:"browserSecurityHeaders.xFrameOptions",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Frame-Options"}),e(Me,{fieldName:"browserSecurityHeaders.contentSecurityPolicy",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy"}),e(Me,{fieldName:"browserSecurityHeaders.contentSecurityPolicyReportOnly",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy-Report-Only"}),e(Me,{fieldName:"browserSecurityHeaders.xContentTypeOptions",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Content-Type-Options"}),e(Me,{fieldName:"browserSecurityHeaders.xRobotsTag",url:"https://developers.google.com/search/docs/advanced/robots/robots_meta_tag"}),e(Me,{fieldName:"browserSecurityHeaders.xXSSProtection",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-XSS-Protection"}),e(Me,{fieldName:"browserSecurityHeaders.strictTransportSecurity",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security"}),e(Me,{fieldName:"browserSecurityHeaders.referrerPolicy",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referrer-Policy"}),c(Le,{children:[e(R,{variant:"primary",type:"submit","data-testid":"headers-form-tab-save",isDisabled:!s,children:a("save")}),e(R,{variant:"link",onClick:d,children:a("revert")})]})]})})},ut=({name:l,style:n})=>{const{t:a}=U();return e(Ia,{name:l,style:n,label:a(l),labelIcon:a(`${l}Help`),controller:{defaultValue:"",rules:{required:a("required")}}})},zl=({realm:l,save:n})=>{const{t:a}=U(),t=ye(),{setValue:i,handleSubmit:s,formState:{isDirty:m}}=t,[d,h]=p(!1),[o,u]=p(!1);let E;(b=>{b.Disabled="Disabled",b.PermanentLockout="PermanentLockout",b.TemporaryLockout="TemporaryLockout",b.PermanentAfterTemporaryLockout="PermanentAfterTemporaryLockout"})(E||(E={}));const k=["Disabled","PermanentLockout","TemporaryLockout","PermanentAfterTemporaryLockout"],O=()=>{Ve(l,i),u(!1)};Ee(O,[]);const y=t.getValues("bruteForceProtected")?t.getValues("permanentLockout")?t.getValues("maxTemporaryLockouts")==0?"PermanentLockout":"PermanentAfterTemporaryLockout":"TemporaryLockout":"Disabled";return e(Ge,{...t,children:c(ae,{role:"manage-realm",isHorizontal:!0,onSubmit:s(n),children:[e(D,{label:a("bruteForceMode"),fieldId:"kc-brute-force-mode",labelIcon:e(K,{helpText:a("bruteForceModeHelpText"),fieldLabelId:"bruteForceMode"}),children:e(ve,{toggleId:"kc-brute-force-mode",onToggle:()=>h(!d),onSelect:b=>{switch(b){case"Disabled":t.setValue("bruteForceProtected",!1),t.setValue("permanentLockout",!1),t.setValue("maxTemporaryLockouts",0);break;case"TemporaryLockout":t.setValue("bruteForceProtected",!0),t.setValue("permanentLockout",!1),t.setValue("maxTemporaryLockouts",0);break;case"PermanentLockout":t.setValue("bruteForceProtected",!0),t.setValue("permanentLockout",!0),t.setValue("maxTemporaryLockouts",0);break;case"PermanentAfterTemporaryLockout":t.setValue("bruteForceProtected",!0),t.setValue("permanentLockout",!0),t.setValue("maxTemporaryLockouts",1);break}u(!0),h(!1)},selections:y,variant:Ie.single,isOpen:d,"data-testid":"select-brute-force-mode","aria-label":a("selectUnmanagedAttributePolicy"),children:k.map(b=>e(te,{value:b,children:a(`bruteForceMode.${b}`)},b))})}),y!=="Disabled"&&c(X,{children:[e(Pt,{name:"failureFactor",label:a("failureFactor"),labelIcon:a("failureFactorHelp"),controller:{defaultValue:0,rules:{required:a("required")}}}),y==="PermanentAfterTemporaryLockout"&&e(Pt,{name:"maxTemporaryLockouts",label:a("maxTemporaryLockouts"),labelIcon:a("maxTemporaryLockoutsHelp"),controller:{defaultValue:0}}),(y==="TemporaryLockout"||y==="PermanentAfterTemporaryLockout")&&c(X,{children:[e(ut,{name:"waitIncrementSeconds"}),e(ut,{name:"maxFailureWaitSeconds"}),e(ut,{name:"maxDeltaTimeSeconds"})]}),e(Pt,{name:"quickLoginCheckMilliSeconds",label:a("quickLoginCheckMilliSeconds"),labelIcon:a("quickLoginCheckMilliSecondsHelp"),controller:{defaultValue:0}}),e(ut,{name:"minimumQuickLoginWaitSeconds"})]}),c(Le,{children:[e(R,{variant:"primary",type:"submit","data-testid":"brute-force-tab-save",isDisabled:!m&&!o,children:a("save")}),e(R,{variant:"link",onClick:O,children:a("revert")})]})]})})},$l=({realm:l,save:n})=>{const{t:a}=U(),[t,i]=p(10);return c(Tt,{activeKey:t,onSelect:(s,m)=>i(m),children:[e($,{id:"headers",eventKey:10,"data-testid":"security-defenses-headers-tab",title:e(j,{children:a("headers")}),children:e(ce,{variant:"light",children:e(_l,{realm:l,save:n})})}),e($,{id:"bruteForce",eventKey:20,"data-testid":"security-defenses-brute-force-tab",title:e(j,{children:a("bruteForceDetection")}),children:e(ce,{variant:"light",children:e(zl,{realm:l,save:n})})})]})},jl=({setTableData:l})=>{const{adminClient:n}=se(),{config:a,save:t}=jt(),{t:i}=U(),s=Bt(),m=Ye(),{realm:d}=ie(),[h,o]=p(0),[u,E]=p();Ee(()=>o(r=>r+1),[a]);async function k(){return a?.groups??[]}const[O,y]=Te({titleKey:"deleteDialogTitle",children:c(vt,{i18nKey:"deleteDialogDescription",children:[" ",e("strong",{children:{group:u?.name}}),"."]}),continueButtonLabel:"delete",continueButtonVariant:le.danger,onConfirm:async()=>{const r=(a?.groups??[]).filter(x=>x!==u),f=u?.displayHeader?.substring(2,u?.displayHeader.length-1),v=u?.displayDescription?.substring(2,u?.displayDescription.length-1);try{await Promise.all(s.map(async x=>{try{if(await n.realms.getRealmLocalizationTexts({realm:d,selectedLocale:x})){await n.realms.deleteRealmLocalizationTexts({realm:d,selectedLocale:x,key:f}),await n.realms.deleteRealmLocalizationTexts({realm:d,selectedLocale:x,key:v});const N=await n.realms.getRealmLocalizationTexts({realm:d,selectedLocale:x});l([N])}}catch{console.error(`Error removing translations for ${x}`)}})),t({...a,groups:r},{successMessageKey:"deleteSuccess",errorMessageKey:"deleteAttributeGroupError"})}catch(x){console.error(`Error removing translations or updating attributes group: ${x}`)}}});function b(r){E(r),O()}return c(ce,{variant:"light",className:"pf-v5-u-p-0",children:[e(y,{}),e(ze,{loader:k,ariaLabelKey:"tableTitle",toolbarItem:e(Ae,{children:e(R,{component:r=>e(Pe,{"data-testid":"create-attributes-groups-action",...r,to:Zt({realm:d})}),children:i("createGroupText")})}),columns:[{name:"name",displayKey:"columnName",cellRenderer:r=>e(Pe,{to:fn({realm:d,name:r.name}),children:r.name})},{name:"displayHeader",displayKey:"columnDisplayName"},{name:"displayDescription",displayKey:"columnDisplayDescription"}],actions:[{title:i("delete"),onRowClick:b}],emptyState:e(xe,{message:i("emptyStateMessage"),instructions:i("emptyStateInstructions"),primaryActionText:i("createGroupText"),onPrimaryAction:()=>m(Zt({realm:d}))})},h)]})},ra=["username","email"],ql=({setTableData:l})=>{const{adminClient:n}=se(),{config:a,save:t}=jt(),{realm:i}=ie(),{t:s}=U(),m=Bt(),d=Ye(),[h,o]=p("allGroups"),[u,E]=qe(),[k,O]=p(a?.attributes),[y,b]=p(""),[r,f]=Te({titleKey:s("deleteAttributeConfirmTitle"),messageKey:s("deleteAttributeConfirm",{attributeName:y}),continueButtonLabel:s("delete"),continueButtonVariant:le.danger,onConfirm:async()=>{if(!a?.attributes)return;const I=a.attributes.find(L=>L.name===y)?.displayName,w=I?.substring(2,I.length-1);try{await Promise.all(m.map(async B=>{try{if(await n.realms.getRealmLocalizationTexts({realm:i,selectedLocale:B})){await n.realms.deleteRealmLocalizationTexts({realm:i,selectedLocale:B,key:w});const P=await n.realms.getRealmLocalizationTexts({realm:i,selectedLocale:B});l([P])}}catch{console.error(`Error removing translations for ${B}`)}}));const L=a.attributes.filter(B=>B.name!==y);t({...a,attributes:L,groups:a.groups},{successMessageKey:"deleteAttributeSuccess",errorMessageKey:"deleteAttributeError"}),b("")}catch(L){console.error(`Error removing translations or updating attributes: ${L}`)}}});if(!a)return e(We,{});const v=a.attributes??[],x=a.groups??[],T=async(I,w)=>{const L=v.findIndex(g=>g.name===I.name);let B={};B=v[L],v.splice(L,1),v.splice(w,0,B),t({attributes:v,groups:x},{successMessageKey:"updatedUserProfileSuccess",errorMessageKey:"updatedUserProfileError"})},N=I=>e(Pe,{to:ea({realm:i,attributeName:I.name}),children:I.name},I.name);return c(X,{children:[e(ga,{children:c(bn,{children:[e(Ae,{children:e(ve,{toggleId:"kc-group-filter",width:200,"data-testid":"filter-select",isOpen:u,variant:Ie.single,onToggle:E,toggleIcon:e(Pa,{}),onSelect:I=>{const w=I.toString();o(w),O(w==="allGroups"?v:v.filter(L=>L.group===w)),E()},selections:h==="allGroups"?s(h):h,children:[e(te,{"data-testid":"all-groups",value:"allGroups",children:s("allGroups")},"allGroups"),...gn(v.filter(I=>!!I.group),"group").map(I=>e(te,{value:I.group,children:I.group},I.group))]})}),e(Ae,{className:"kc-toolbar-attributesTab",children:e(R,{"data-testid":"createAttributeBtn",variant:"primary",component:I=>e(Pe,{...I,to:vn({realm:i})}),children:s("createAttribute")})})]})}),e(Be,{}),e(f,{}),e(Aa,{keyField:"name",onDragFinish:async(I,w)=>{const L=v.map(V=>V.name),B=w.indexOf(I),g=L.indexOf(I),P=v[g];P.name&&T(P,B)},actions:[{title:s("edit"),onClick:(I,w,L)=>{d(ea({realm:i,attributeName:L.name}))}},{title:s("delete"),isActionable:({name:I})=>!ra.includes(I),isDisabled:ra.includes(name),onClick:(I,w,L)=>{b(L.name),r()}}],columns:[{name:"name",displayKey:s("attributeName"),cellRenderer:N},{name:"displayName",displayKey:s("attributeDisplayName")},{name:"group",displayKey:s("attributeGroup")}],data:k??v})]})},Wl=()=>{const{config:l,save:n,isSaving:a}=jt(),{t}=U(),{addError:i}=Ce(),[s,m]=p();Ee(()=>d(),[l,s]);function d(){s?.setValue(l?lt(l):"")}async function h(){const o=s?.getValue();if(o)try{await n(JSON.parse(o))}catch(u){i("invalidJsonError",u);return}}return c(ce,{variant:"light",children:[e(zt,{language:$t.json,height:"30rem",onEditorDidMount:o=>m(o),isLanguageLabelVisible:!0}),e(rt,{children:c(Le,{children:[e(R,{"data-testid":"save",variant:"primary",onClick:h,isDisabled:a,children:t("save")}),e(R,{variant:"link",onClick:d,isDisabled:a,children:t("revert")})]})})]})},Jl=({setTableData:l})=>{const{realm:n}=ie(),{t:a}=U(),t=d=>gt(ta({realm:n,tab:d})),i=t("attributes"),s=t("attributes-group"),m=t("json-editor");return e(Jn,{children:c(bt,{defaultLocation:ta({realm:n,tab:"attributes"}),mountOnEnter:!0,children:[e($,{title:e(j,{children:a("attributes")}),"data-testid":"attributesTab",...i,children:e(ql,{setTableData:l})}),e($,{title:e(j,{children:a("attributesGroup")}),"data-testid":"attributesGroupTab",...s,children:e(jl,{setTableData:l})}),e($,{title:e(j,{children:a("jsonEditor")}),"data-testid":"jsonEditorTab",...m,children:e(Wl,{})})]})})},Xl=({save:l,onChange:n,value:a,realmName:t,refresh:i})=>{const{adminClient:s}=se(),{environment:m}=da(),{t:d}=U(),{refresh:h}=ya(),{addAlert:o,addError:u}=Ce(),E=Ye(),[k,O]=p(!1),[y,b]=p(!1),{hasAccess:r}=Ut(),f=r("manage-realm"),[v,x]=Te({titleKey:"disableConfirmTitle",messageKey:"disableConfirmRealm",continueButtonLabel:"disable",onConfirm:()=>{n(!a),l()}}),[T,N]=Te({titleKey:"deleteConfirmTitle",messageKey:"deleteConfirmRealmSetting",continueButtonLabel:"delete",continueButtonVariant:le.danger,onConfirm:async()=>{try{await s.realms.del({realm:t}),o(d("deletedSuccessRealmSetting"),ne.success),await h(),E(yn({realm:m.masterRealm})),i()}catch(I){u("deleteErrorRealmSetting",I)}}});return c(X,{children:[e(x,{}),e(N,{}),e(vl,{open:k,toggleDialog:()=>O(!k)}),e(gl,{isOpen:y,onClose:()=>b(!1)}),e(Pn,{titleKey:t,subKey:"realmSettingsExplain",helpUrl:Tn.realmSettingsUrl,divider:!1,dropdownItems:[e(tt,{"data-testid":"openPartialImportModal",isDisabled:!f,onClick:()=>{O(!0)},children:d("partialImport")},"import"),e(tt,{"data-testid":"openPartialExportModal",isDisabled:!f,onClick:()=>b(!0),children:d("partialExport")},"export"),e(Be,{},"separator"),e(tt,{isDisabled:!f,onClick:T,children:d("delete")},"delete")],isEnabled:a,isReadOnly:!f,onToggle:I=>{I?(n(I),l()):v()}})]})},Yl=()=>{const{adminClient:l}=se(),{t:n}=U(),{addAlert:a,addError:t}=Ce(),{realm:i,realmRepresentation:s,refresh:m}=ie(),{refresh:d}=ya(),h=Bt(),o=Ye(),u=Mt(),[E,k]=p(void 0),{control:O,setValue:y,getValues:b}=ye({mode:"onChange"}),[r,f]=p(0),v=()=>{f(r+1)},x=(M=s)=>{Ve(M,y)};Ee(()=>{x(),(async()=>{try{await Promise.all(h.map(async ue=>{try{const W=await l.realms.getRealmLocalizationTexts({realm:i,selectedLocale:ue});W&&k([W])}catch{return[]}}))}catch{return[]}})()},[y,s]);const T=async M=>{M=Cn(M),M.attributes?.["acr.loa.map"]&&typeof M.attributes["acr.loa.map"]!="string"&&(M.attributes["acr.loa.map"]=JSON.stringify(Object.fromEntries(M.attributes["acr.loa.map"].filter(({key:W})=>W!=="").map(({key:W,value:he})=>[W,he]))));try{const W={...s,...M,id:M.realm};W.smtpServer?.port===""&&(W.smtpServer={...W.smtpServer,port:null});const he=await Sn(kn(l.baseUrl,`admin/realms/${i}/ui-ext`),{method:"PUT",body:JSON.stringify(W),headers:{"Content-Type":"application/json",...In(await l.getAccessToken())}});if(!he.ok)throw new Error(he.statusText);a(n("realmSaveSuccess"),ne.success)}catch(W){t("realmSaveError",W)}i!==(M.realm||s?.realm)&&(await d(),o(At({realm:M.realm,tab:"general"}))),m()},N=M=>gt(At({realm:i,tab:M})),I=N("general"),w=N("login"),L=N("email"),B=N("themes"),g=N("keys"),P=N("events"),V=N("localization"),z=N("security-defenses"),J=N("sessions"),G=N("tokens"),q=N("client-policies"),re=N("user-profile"),oe=N("user-registration"),{hasAccess:fe,hasSomeAccess:pe}=Ut(),me=fe("view-realm")&&pe("view-events","manage-events"),Se=fe("view-realm")&&pe("view-clients","manage-clients"),S=M=>gt(Dt({realm:i,tab:M})),A=S("profiles"),Z=S("policies");return c(X,{children:[e(H,{name:"enabled",defaultValue:!0,control:O,render:({field:M})=>e(Xl,{value:M.value,onChange:M.onChange,realmName:i,refresh:v,save:()=>T(b())})}),e(ce,{variant:"light",className:"pf-v5-u-p-0",children:c(bt,{isBox:!0,mountOnEnter:!0,"aria-label":"realm-settings-tabs",defaultLocation:At({realm:i,tab:"general"}),children:[e($,{title:e(j,{children:n("general")}),"data-testid":"rs-general-tab",...I,children:e(pl,{realm:s,save:T})}),e($,{title:e(j,{children:n("login")}),"data-testid":"rs-login-tab",...w,children:e(bl,{refresh:m,realm:s})}),e($,{title:e(j,{children:n("email")}),"data-testid":"rs-email-tab",...L,children:e(ul,{realm:s,save:T})}),e($,{title:e(j,{children:n("themes")}),"data-testid":"rs-themes-tab",...B,children:e(kl,{realm:s,save:T})}),e($,{title:e(j,{children:n("keys")}),"data-testid":"rs-keys-tab",...g,children:e(Fl,{})}),me&&e($,{title:e(j,{children:n("events")}),"data-testid":"rs-realm-events-tab",...P,children:e(wl,{realm:s})}),e($,{title:e(j,{children:n("localization")}),"data-testid":"rs-localization-tab",...V,children:e(Bl,{save:T,realm:s,tableData:E},r)}),e($,{title:e(j,{children:n("securityDefences")}),"data-testid":"rs-security-defenses-tab",...z,children:e($l,{realm:s,save:T})}),e($,{title:e(j,{children:n("sessions")}),"data-testid":"rs-sessions-tab",...J,children:e(Sl,{realm:s,save:T},r)}),e($,{title:e(j,{children:n("tokens")}),"data-testid":"rs-tokens-tab",...G,children:e(Il,{save:T,realm:s})}),u(Ft.ClientPolicies)&&e($,{title:e(j,{children:n("clientPolicies")}),"data-testid":"rs-clientPolicies-tab",...q,children:c(bt,{mountOnEnter:!0,defaultLocation:Dt({realm:i,tab:"profiles"}),children:[e($,{id:"profiles","data-testid":"rs-policies-clientProfiles-tab","aria-label":n("clientProfilesSubTab"),title:e(j,{children:n("profiles")}),tooltip:e(aa,{content:n("clientPoliciesProfilesHelpText")}),...A,children:e(Cl,{})}),e($,{id:"policies","data-testid":"rs-policies-clientPolicies-tab","aria-label":n("clientPoliciesSubTab"),...Z,title:e(j,{children:n("policies")}),tooltip:e(aa,{content:n("clientPoliciesPoliciesHelpText")}),children:e(yl,{})})]})}),e($,{title:e(j,{children:n("userProfile")}),"data-testid":"rs-user-profile-tab",...re,children:e(Jl,{setTableData:k})}),Se&&e($,{title:e(j,{children:n("userRegistration")}),"data-testid":"rs-userRegistration-tab",...oe,children:e(Pl,{})})]})})]})};function Xi(){return e(Yl,{})}export{Xi as default};
//# sourceMappingURL=RealmSettingsSection-D4c_ysq-.js.map
