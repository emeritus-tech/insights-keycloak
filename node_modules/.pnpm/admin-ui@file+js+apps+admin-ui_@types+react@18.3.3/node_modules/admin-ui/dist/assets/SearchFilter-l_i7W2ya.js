import{jsx as e,jsxs as S,Fragment as f}from"react/jsx-runtime";import{useState as O}from"react";import{u as x,a as y,f as A,V as u,K as C,l as F,W as T,J as b,N as k,a2 as g,U as D,D as E}from"./main-DXDh8SEc.js";import{f as P,c as L,g as $,b as _,A as m}from"./ClientScopeTypes-DaGfhuW4.js";import{F as j}from"./filter-icon-Do5tIUfA.js";const N=({clientId:n,selectedRows:c,refresh:r})=>{const{adminClient:p}=x(),{t:s}=y(),[i,t]=O(!1),{addAlert:a,addError:l}=A();return e(u,{"aria-label":"change-type-to",onOpenChange:o=>t(o),isOpen:i,toggle:o=>e(C,{id:"change-type-dropdown",isDisabled:c.length===0,ref:o,onClick:()=>t(!i),isExpanded:i,children:s("changeTypeTo")}),onSelect:async(o,d)=>{try{await Promise.all(c.map(h=>n?P(p,n,h,h.type,d):L(p,h,d))),t(!1),r(),a(s("clientScopeSuccess"),F.success)}catch(h){l("clientScopeError",h)}},children:e(T,{children:$(s,n?void 0:_)})})},v=["all","saml","openid-connect"],U=(n="")=>c=>c.name?.includes(n),W=n=>c=>n===m.none||c.type===n,q=n=>c=>n==="all"||c.protocol===n,w=({searchType:n,withProtocol:c=!1,onSelect:r})=>{const{t:p}=y(),[s,i]=O(!1),t=l=>e(E,{onClick:()=>{r(l),i(!1)},children:p(`clientScopeSearch.${l}`)},l),a=[t("name"),t("type")];return c&&a.push(t("protocol")),e(b,{onOpenChange:l=>i(l),toggle:l=>S(C,{"data-testid":"clientScopeSearch",ref:l,id:"toggle-id",onClick:()=>i(!s),children:[e(j,{})," ",p(`clientScopeSearch.${n}`)]}),isOpen:s,children:e(k,{children:a})})},z=({searchType:n,onSelect:c,type:r,onType:p,protocol:s,onProtocol:i})=>{const{t}=y(),[a,l]=O(!1);return S(f,{children:[n==="type"&&S(f,{children:[e(g,{children:e(w,{searchType:n,onSelect:c,withProtocol:!!s})}),e(g,{children:e(u,{toggle:o=>e(C,{"data-testid":"clientScopeSearchType",ref:o,isExpanded:a,onClick:()=>l(!a),children:r===m.none?t("allTypes"):t(`clientScopeTypes.${r}`)}),onOpenChange:o=>l(o),isOpen:a,selected:r===m.none?t("allTypes"):t(`clientScopeTypes.${r}`),onSelect:(o,d)=>{p(d),l(!1)},children:S(T,{children:[e(D,{value:m.none,children:t("allTypes")}),$(t)]})})})]}),n==="protocol"&&!!s&&S(f,{children:[e(g,{children:e(w,{searchType:n,onSelect:c,withProtocol:!0})}),e(g,{children:e(u,{toggle:o=>e(C,{"data-testid":"clientScopeSearchProtocol",ref:o,isExpanded:a,onClick:()=>l(!a),children:t(`protocolTypes.${s}`)}),onOpenChange:o=>l(o),isOpen:a,selected:t(`protocolTypes.${s}`),onSelect:(o,d)=>{i?.(d),l(!1)},children:e(T,{children:v.map(o=>e(D,{value:o,children:t(`protocolTypes.${o}`)},o))})})})]})]})};export{N as C,w as S,z as a,U as n,q as p,W as t};
//# sourceMappingURL=SearchFilter-l_i7W2ya.js.map
