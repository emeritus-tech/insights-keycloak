import{jsxs as o,Fragment as w,jsx as e}from"react/jsx-runtime";import{useState as R}from"react";import{u as b,a as A,d as C,dt as S,e7 as y,f as V,g as x,P as D,F as E,y as N,A as T,i as j,j as k,Q as I,S as P,c6 as q}from"./main-DXDh8SEc.js";import{D as H}from"./SwitchControl-BOCtuOhh.js";import{F as J}from"./FormAccess-Bcw0IOUQ.js";import{J as K}from"./JsonFileUpload-CBV06Hml.js";import{V as O}from"./ViewHeader-DTd0a4sz.js";import"react-dom";import"./copy-icon-C4kUIpk5.js";import"./FileUploadForm-DD1wLZX_.js";import"./FileUpload-CK_LBb0x.js";import"./CodeEditor-BFrRAdAy.js";import"./EmptyStateFooter-C_ktbNPy.js";import"./EmptyStateActions-CiPKPOdJ.js";function re(){const{adminClient:n}=b(),{t:a}=A(),l=C(),{refresh:i,whoAmI:m}=S(),{refresh:c}=y(),{addAlert:d,addError:u}=V(),[h,p]=R(),s=x({mode:"onChange"}),{handleSubmit:f,setValue:v,formState:F}=s,g=r=>{const t={id:"",realm:"",enabled:!0};I(r||t,v),p(r||t)};return o(w,{children:[e(O,{titleKey:"createRealm",subKey:"realmExplain"}),e(D,{variant:"light",children:e(E,{...s,children:o(J,{isHorizontal:!0,onSubmit:f(async r=>{try{await n.realms.create({...h,...P(r)}),d(a("saveRealmSuccess")),i(),await c(),l(q({realm:r.realm}))}catch(t){u("saveRealmError",t)}}),role:"view-realm",isReadOnly:!m.canCreateRealm(),children:[e(K,{id:"kc-realm-filename",allowEditingUploadedText:!0,onChange:g}),e(N,{name:"realm",label:a("realmNameField"),rules:{required:a("required")}}),e(H,{name:"enabled",label:a("enabled"),defaultValue:!0}),o(T,{children:[e(j,{formState:F,allowInvalid:!0,allowNonDirty:!0,children:a("create")}),e(k,{variant:"link",onClick:()=>l(-1),children:a("cancel")})]})]})})})]})}export{re as default};
//# sourceMappingURL=NewRealmForm-Dn4WYwFF.js.map
