import{jsx as a,jsxs as w,Fragment as b}from"react/jsx-runtime";import{u as v,a as A,f as F,d as x,c as y,g as E,w as P,a3 as V,P as G,l as N,bx as R,em as S,en as j}from"./main-DXDh8SEc.js";import{useState as c}from"react";import{V as k}from"./ViewHeader-DTd0a4sz.js";import{U as K,t as M}from"./UserForm-kxKdaFcM.js";/* empty css                     */import"react-dom";import"./SwitchControl-BOCtuOhh.js";import"./FormAccess-Bcw0IOUQ.js";import"./copy-icon-C4kUIpk5.js";import"./GroupPickerDialog-B6DOUphD.js";import"./PaginatingTableToolbar-zbU1l_6-.js";import"./EmptyStateFooter-C_ktbNPy.js";import"./EmptyStateActions-CiPKPOdJ.js";import"./DataListItemRow-CavOLjhh.js";import"./useFormatDate-HcqQUSxN.js";function $(){const{adminClient:n}=v(),{t:r}=A(),{addAlert:d,addError:u}=F(),p=x(),{realm:m,realmRepresentation:s}=y(),o=E({mode:"onChange"}),[f,g]=c([]),[l,h]=c();P(()=>n.users.getProfileMetadata({realm:m}),t=>{if(!t)throw new Error(r("notFound"));o.setValue("attributes.locale",s?.defaultLocale||""),h(t)},[]);const U=async t=>{try{const e=await n.users.create({...M(t),groups:f.map(i=>i.path),enabled:!0});d(r("userCreated"),N.success),p(R({id:e.id,realm:m,tab:"settings"}))}catch(e){S(e)?j(e,o.setError,(i,C)=>r(i,C)):u("userCreateError",e)}};return!s||!l?a(V,{}):w(b,{children:[a(k,{titleKey:r("createUser"),className:"kc-username-view-header"}),a(G,{variant:"light",children:a(K,{form:o,realm:s,userProfileMetadata:l,onGroupsUpdate:g,save:U})})]})}export{$ as default};
//# sourceMappingURL=CreateUser-cSanIbbw.js.map
